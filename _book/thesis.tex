% From https://github.com/UWIT-IAM/UWThesis
\documentclass[print]{nuthesis}
\usepackage{amssymb, amsthm, amsmath, amsfonts}
\usepackage{wasysym}
\usepackage{mathrsfs}
% \usepackage{hyperref}
\usepackage{graphicx}
\usepackage{lineno}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{listings}
%\usepackage{breqn}
\usepackage{cancel, enumerate}
\usepackage{rotating, environ}
\usepackage{caption}
\usepackage{subcaption}
\usepackage[inline]{enumitem}
\usepackage{dirtree}

\newtheorem{thm}{Theorem}
\newtheorem{defn}{Definition}
\newtheorem{prop}{Proposition}
\newtheorem{lemma}{Lemma}
\newtheorem{cor}{Corollary}

% Syntax highlighting #22
  \usepackage{color}
  \usepackage{fancyvrb}
  \newcommand{\VerbBar}{|}
  \newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
  \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
  % Add ',fontsize=\small' for more characters per line
  \usepackage{framed}
  \definecolor{shadecolor}{RGB}{248,248,248}
  \newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
  \newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
  \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
  \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
  \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
  \newcommand{\BuiltInTok}[1]{#1}
  \newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
  \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
  \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
  \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
  \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
  \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
  \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
  \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
  \newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
  \newcommand{\ExtensionTok}[1]{#1}
  \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
  \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
  \newcommand{\ImportTok}[1]{#1}
  \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
  \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
  \newcommand{\NormalTok}[1]{#1}
  \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
  \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
  \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
  \newcommand{\RegionMarkerTok}[1]{#1}
  \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
  \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
  \newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
  \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
  \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
  \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}

%% https://github.com/rstudio/rmarkdown/issues/1649
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newenvironment{CSLReferences}%
{\setlength{\parindent}{0pt}%
\everypar{\setlength{\hangindent}{\cslhangindent}}\ignorespaces}%
{\par}

% fix for pandoc 1.14
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

%% something about tables, from https://github.com/ismayc/thesisdown/issues/122
\usepackage{calc}

%% for copyright symbol
\usepackage{textcomp}

%% to allow to rotate pages to landscape
\usepackage{lscape}
%% to adjust table column width
\usepackage{tabularx}

% suppress bottom page numbers on first page of each chapter
% because they overlap with text
\usepackage{etoolbox}
\patchcmd{\chapter}{plain}{empty}{}{}

%% for more attractive tables
\usepackage{booktabs}
\usepackage{longtable}


\usepackage{graphicx}


% Double spacing, if you want it.
\def\dsp{\def\baselinestretch{2.0}\large\normalsize}
% \dsp

% If the Grad. Division insists that the first paragraph of a section
% be indented (like the others), then include this line:
\usepackage{indentfirst}

%%%%%%%%%%%%%%%%%%
% If you want to use "sections" to partition your thesis
% un-comment the following:
%
% \counterwithout{section}{chapter}
% \setsecnumdepth{subsubsection}
% \def\sectionmark#1{\markboth{#1}{#1}}
% \def\subsectionmark#1{\markboth{#1}{#1}}
% \renewcommand{\thesection}{\arabic{section}}
% \renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
% \makeatletter
% \let\l@subsection\l@section
% \let\l@section\l@chapter
% \makeatother
% 
% \renewcommand{\thetable}{\arabic{table}}
% \renewcommand{\thefigure}{\arabic{figure}}

%%%%%%%%%%%%%%%%%%


%% Stuff from https://github.com/suchow/Dissertate

% The following line would print the thesis in a postscript font

% \usepackage{natbib}
% \def\bibpreamble{\protect\addcontentsline{toc}{chapter}{Bibliography}}

\setcounter{tocdepth}{1} % Print the chapter and sections to the toc
% controls depth of table of contents (toc): 0 = chapter, 1 = section, 2 = subsection

\usepackage{natbib}


% commands and environments needed by pandoc snippets
% extracted from the output of `pandoc -s`
%% Make R markdown code chunks work
\usepackage{array}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\ifxetex
  \usepackage{fontspec,xltxtra,xunicode}
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
\else
  \ifluatex
    \usepackage{fontspec}
    \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \else
    \usepackage[utf8]{inputenc}
  \fi
\fi
\usepackage{color}
\usepackage{fancyvrb}


\ifxetex
  \usepackage[setpagesize=false, % page size defined by xetex
              unicode=false, % unicode breaks when used with xetex
              xetex,
              colorlinks=true,
              linkcolor=blue]{hyperref}
\else
  \usepackage[unicode=true,
              colorlinks=true,
              linkcolor=blue]{hyperref}
\fi
\hypersetup{breaklinks=true, pdfborder={0 0 0}}
\setlength{\parindent}{20pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\setcounter{secnumdepth}{2} %% controls section numbering, e.g. 1 or 1.2, or 1.2.3


\input{preamble.tex}

\begin{document}
% \linenumbers{}
%% Start formatting the first few special pages
%% frontmatter is needed to set the page numbering correctly
\frontmatter
%% from thesisdown
% To pass between YAML and LaTeX the dollar signs are added by CII
\title{HUMAN PERCEPTION OF EXPONENTIALLY INCREASING DATA DISPLAYED ON A LOG SCALE}
\author{Emily Anna Robinson}
\adviser{Susan VanderPlas and Reka Howard}
\adviserAbstract{}
\major{Statistics}
\degreemonth{August}
\degreeyear{2022}
% \copyrightpage
%%
%% For most people the defaults will be correct, so they are commented
%% out. To manually set these, just uncomment and make the needed
%% changes.
%% \college{Your college}
%% \city{Your City}
%%
%% For most people the following can be changed with a class
%% option. To manually set these, just uncomment the following and
%% make the needed changes.
%% \doctype{Thesis or Dissertation}
%% \degree{Your degree}
%% \degreeabbreviation{Your degree abbr.}
%%
%% Now that we know everything we need, we can generate the title page
%% itself.
%%
\maketitle


% \begin{abstract}
%     Log scales are often used to display data over several orders of magnitude within one graph. During the COVID-19 pandemic, we have seen both the benefits and the pitfalls of using log scales to display case counts. Three graphical experimental tasks were conducted to evaluate the impact our choice of scale has on human perception of exponentially increasing trends. The first experiment evaluates whether our ability to perceptually notice differences in exponentially increasing trends is impacted by the choice of scale. We conducted a visual inference experiment in which participants were shown a series of lineup plots (consisting of 19 null panels and 1 target panel) and asked to identify the panel that was most different from the others. Our results indicated that when there was a large difference in curvature between the target plot and null plots, the choice of scale had no impact and participants accurately differentiated between the two curves on both the linear and log scale. However, displaying exponentially increasing data on a log scale improved the accuracy of differentiating between models with slight curvature differences. An exception occurred when identifying a plot with curvature embedded in surrounding plots closely relating to a linear trend, indicating that it is easy to identify a curve in a group of lines but much harder to identify a line in a group of curves. The use of visual inference to identify these guidelines suggests that there are \emph{perceptual} advantages to log scales when differences are subtle. Our other experimental tasks focus on determining whether there are cognitive disadvantages to log scales: do log scales make it harder to make use of graphical information? We conducted a graphical task similar to the New York Times ``You Draw It'' page to test an individual's ability to use and make predictions for exponentially increasing data. We asked participants to draw a line using their computer mouse through the increasing exponential trend shown on both scales. In addition to differentiation and prediction of exponentially increasing data, we conduct an experimental task to test an individuals' ability to translate a graph of exponentially increasing data into real value quantities and extend their estimations by making comparisons. The results of our experimental tasks allow us to provide guidelines for readers to actively choose which of many possible graphics to draw, according to some set of design choices, to ensure that our charts are effective. \emph{(399 words; 350 word limit)}
% \end{abstract}

%% Optional
%% \begin{copyrightpage}
%% \end{copyrightpage}

%% Optional
% \begin{dedication}
% Dedicated to\ldots{}
% \end{dedication}

%%%%%%%%%%%%%%%%%%%
% Acknowledgments
%%%%%%%%%%%%%%%%%%%
% \begin{acknowledgments}
% Thank you to all my people!
% \end{acknowledgments}
%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%
% Grant Information
%%%%%%%%%%%%%%%%%%%
% \begin{grantinfo}
%     % Add any grant info here
% \end{grantinfo}

%%%%%%%%%%%%%%%%%%%
% ToC
%%%%%%%%%%%%%%%%%%%
\tableofcontents

%%%%%%%%%%%%%%%%%%%
% List of Figures
%%%%%%%%%%%%%%%%%%%
\listoffigures
\listoftables

%%%%%%%%%%%%%%%%%%%
% Start of the document
%%%%%%%%%%%%%%%%%%%
\mainmatter


\hypertarget{literature-review}{%
\chapter{Literature Review}\label{literature-review}}

Editing text colors: \ear{Emily's editing color.} Emily may also use mostly black text as well. \svp{Susan's editing color.} \rh{Reka's editing color.}

\hypertarget{introduction-to-graphics}{%
\section{Introduction to Graphics}\label{introduction-to-graphics}}

Advanced technology and computing power has promoted data visualization as a central tool in modern data science (Unwin, 2020).
Data visualization is defined \svp{by whom?} as the art of drawing graphical charts in order to display data.
\cref{fig:graphic-flowchart} illustrates the process of creating a graphic from a data set through the use of variable mapping, data transformations, coordinate systems, and aesthetic features (Vanderplas, Cook, \& Hofmann, 2020) \svp{This is more of a grammar of graphics flowchart, which isn't *quite* the same thing}.
\svp{I would honestly lead with this part...} Graphics are useful for data cleaning, exploring data structure, and have been an essential component in communicating information for the last 200 years (Lewandowsky \& Spence, 1989; Unwin, 2020; Vanderplas, Cook, \& Hofmann, 2020)
During the 20th century, companies began utilizing graphics to understand their mechanics and support business decisions; news sources began displaying graphics of weather forecasts as a means to communicate critical information and aid in decision-making (Vanderplas, Cook, \& Hofmann, 2020)\svp{, and countries began using graphics in order to better understand their population and economic interests} \svp{Might want to add a set of pictures showing the different types of graphics from this sentence - playfair's balance of trade, statistical atlas, and something from e.g. early IBM?}.
Today, we encounter data visualizations everywhere, researchers include graphics to communicate their results in scientific publications and mass media relies on graphics to convey news stories to the public through newspapers, TV, and the Web (Unwin, 2020).

\begin{figure}[tbp]

{\centering \includegraphics[width=0.5\linewidth,]{images/graphic-flowchart} 

}

\caption{Graphic flowchart}\label{fig:graphic-flowchart}
\end{figure}

In general, the public holds the self perception that numbers are difficult to understand and that they did not perform well in mathematics during school (Unwin, 2020).
In contrary, there tends to be a positive self perception when it comes to graphics as they are viewed more as illustrations and not as critical parts of an argument.
While tables can be burdensome to readers, graphics can improve the interpretation and representation of the same data (Uri \& Haemer, 1948).
Shah, Mayer, \& Hegarty (1999) presents an opposing argument claiming there are still difficulties interpreting and explaining quantitative information depicted in graphs. \svp{I think Shah's argument is that some forms of graphics are too complicated, but that doesn't mean she's arguing that graphics aren't useful.}
One explanation for the opposing views is that the general public is untrained in the ability required for the evaluation of graphic material.
The complexity of graphic devices is directly related to the degree and formality of training necessary for understanding (Haemer \& Kelley, 1949). \svp{This is 1. a bit hard to understand, and 2. seems to be a slightly different tone than before. Probably not the ideal way to end a paragraph.}

Although statistical graphics have become widely used and valued in science, business, and in many other aspects of life, as creators of graphics, we are too accepting of them as default without asking critical questions about the graphics we create or view (Unwin, 2020).
Vanderplas, Cook, \& Hofmann (2020) poses the general question we must ask ourselves, ``how effective is this graph at communicating useful information?''
Higher quality of technology has influenced the creation, replication, and complexity of graphics as there are an infinitely many number of graphical displays and design choices that can be implemented at faster speeds with more flexibility.
The creator of a graphic makes decisions about the variables displayed, the type of graphic, the size of the graphic and the aspect ratio, the colors and symbols used, the scales and limits, the ordering of categorical variables, and the ordering of variables in multivariate displays (Unwin, 2020).
In response to the increasing number of design choices, consistent themes and higher standards are being placed on graphics.
Selecting from an extensive list of styles and choices of graphics in order to effectively communicate insights into the data is a challenging task.
A consistent concern is the lack of theory of graphics available to build on; better theory should result in better graphics.
Creators of graphics need an established set of concepts and terminology to build their graphics from so they can actively choose which of many possible graphics to draw in order to ensure their charts are effective.

Many efforts have been made to provide guidelines for graphical designs including Wilkinson's Grammar of Graphics (Wilkinson, 2012).
These guidelines provide the ground work necessary for data plots to be depicted and interpreted as statistics (Buja et al., 2009; Majumder, Hofmann, \& Cook, 2013).
Vanderplas, Cook, \& Hofmann (2020) define a statistic as, ``a functional mapping of a variable or set of variables.''
The grammar of graphics constructs visual statistics through the use of ``tidy data,'' characterized as a data set in which each variable is in its own column, each observation is in its own row, and each value is in its own cell (Hadley Wickham \& Grolemund, 2016).
The grammar allows variables, as designated in columns, to be mapped to different elements of the graphic such as the axes, colors, shapes, or facets.
Software, such as Hadley Wickham's ggplot2 (Hadley Wickham, 2011), aims to implement these guidelines recommended through the grammar of graphics.\\
Later, it is illustrated how the structure of ``tidy data'' and the construction of graphics as statistics aid themselves for easy experimentation which allows researchers to compare the effectiveness and understand the perception of different types of charts (Vanderplas, Cook, \& Hofmann, 2020).
It is important to consider the purpose and motivation behind the generation of the chart as well as the complexity and intended audience you intend to view the chart. \svp{This is circling around to a different paragraph -- might be a sign that you need to tighten your argument a bit?}
A general guideline when generating graphics is to keep it familiar in order to not intimidate your audience and to encourage further interaction from the viewers (Unwin, 2020).
Despite past attempts to improve the use of graphics in science, Gordon \& Finch (2015) evaluated 97 graphs for overall quality, based on five principles of graphical excellence, and found there is still an astonishing lack in the quality of graphics.
More startling is the fact that the source of the graphic from an applied science or a statistics graphic had no effect on the quality of the graphic.
The improvement in graphics depends on both a better definition of variables, units of measurements, scales, and other graphical elements as well as a typical use of grid lines on an accepted set of graphical forms.
With the support of changes in software defaults, future work must be done in order to implement the academic research being conducted in graphics into practice for both academics and non-academics in order to achieve a higher standard of the graphics being presented (Vanderplas, Cook, \& Hofmann, 2020).

\hypertarget{perception-and-psychophysics}{%
\section{Perception and Psychophysics}\label{perception-and-psychophysics}}

In order to develop guiding principles for generating graphics effective in communication, we must first understand the basic mechanics of the human perceptual system and the biases we are vulnerable to (Goldstein \& Brockmole, 2017).
The perceptual process is complex and involved \pcref{fig:perceptual-process}.

\begin{figure}[tbp]

{\centering \includegraphics[width=0.75\linewidth,]{images/perceptual-process-goldsein-pg5} 

}

\caption{Perceptual process}\label{fig:perceptual-process}
\end{figure}

This process is broken down into sensation - involving simple processes that occur right at the beginning of a sensory system - and perception - involving higher-order mechanisms and identified with more complex processes.
The perceptual process begins when there is a stimulus in the environment and light is reflected and focused back into the viewer's eyes.
Within the eye, the light reflected is transformed and focused by the eye's optical system and an image is formed on the receptors of the viewer's retina.
It is important to note that everything a person perceives is based not on direct contact with stimuli but on representations of stimuli that are formed on the receptors and the resulting activity in the person's nervous system.
Once light is reflected and focused, our visual receptors respond to the light and transform the light energy into electrical energy through a process called transduction.
Signals from the receptors are then transmitted through the retina, to the brain, and then within the brain where perception - what do you see? - and recognition - what is it called? - occur.
After recognition, viewers take some sort of motor action - for example, move closer to the object.
The perceptual process is not direct and instead takes on more of a cyclic nature where a person may go through many iterations of stimuli, perception, recognition, and action before the final image is identified and understood.

When perception occurs, we first experience the \textbf{preattentive stage} in which we observe color, shape, size, and other basic information about the stimuli being perceived. Preattentive perception effects are automatically processed within the first 500 millisectonds of viewing and do not depend on sustained cognitive attention (Vanderplas, Cook, \& Hofmann, 2020).
Following the preattentive stage, \textbf{direct attention} is required for additional processing to allow us to draw connections between components that assist in our interpretation of the stimuli.
When viewing a chart or graph, most insights we gain are due to the cognitive processes that occur after attention is focused on specific aspects of the graph.
The knowledge a viewer brings to the situation influences their cognitive evaluation of the stimuli. \svp{Citation? You should probably also provide a bit more context for this piece of the paragraph instead of ending with dropping this one fact...}

The relationship between physiology and perception can provide us information about how graphics may be understood and interpreted.
According to a cognitive analysis, graph interpretation involves (a) relatively simple pattern perception and association processes in which viewers can associate graphic patterns to quantitative referents and (b) more complex and error-prone inferential processes in which viewers must mentally transform data (Shah, Mayer, \& Hegarty, 1999).
Pyschophysics, the branch of psychology that deals with the relationships between physical stimuli (e.g.~light) and mental phenomena, aims to provide explanations of this relationship and point out human perceptual biases.
By examining both behavior and physiology together, we are able to understand the mechanisms responsible for perception.

\hypertarget{graphical-experiments}{%
\section{Graphical Experiments}\label{graphical-experiments}}

One way in which we determine the relationship between behavior and physiology is through the use of graphical tests. These tests may take many forms: identifying differences in graphs, reading information
off of a chart accurately, using data to make correct real-world decisions, or predicting the next few observations.
All of these types of tests require different levels of use and manipulation of the information presented in the chart.
The initial push to develop classification and recommendation systems for charts was grounded on heuristics rather than on experimentation (Vanderplas, Cook, \& Hofmann, 2020).
Request were made for the validation of the perception and utility of statistical charts through graphical experiments.
Initial experiments struggled with methodological issues (Croxton \& Stein, 1932; Croxton \& Stryker, 1927; Eells, 1926) with most early experimentation stemming from psychophysics research on the perception of size and shape (Teghtsoonian, 1965).
While a typical psychophysics experiment focuses on whether an effect is detectable and whether the magnitude of the effect can be accurately estimated, these early experiments instead depended on speed and accuracy for plot evaluation (Lewandowsky \& Spence, 1989; Spence, 1990; Teghtsoonian, 1965).

Cognitive psychologists and statisticians made progress by conducting experiments to identify perceptual errors associated with different styles of graphics and charts (Cleveland \& McGill, 1985; Spence, 1990).
These later experiments relied on similar methodology as early studies by relying on participants directly reading information from the charts to provide a quantitative estimate or answering a predefined question; as with the early studies, accuracy and response time being evaluated (Amer, 2005; Broersma \& Molenaar, 1985; Cleveland \& McGill, 1984; Dunn, 1988; Peterson \& Schramm, 1954; Tan, 1994). \svp{Too much use of "rely/relied", provide some examples of quantitative estimation questions -- this will better support Ch4}
Cleveland \& McGill (1984) provide a basis for perceptual judgment, still utilized today, by examining six basic stimuli\svp{Not really stimuli, so much as concepts or aesthetics if you want to go there...}: position along a common scale, position along nonaligned scales, length, angle, slope, and area.
Other experiments established the notion that redesigning graphs can result in the improvement of the viewer's interpretation (Shah, Mayer, \& Hegarty, 1999).
This is done by relying on gestalt principles to minimize the inferential processes and maximize the pattern association processes required to interpret relevant information. \svp{This next bit seems like a different paragraph that should probably come a bit earlier...}
The viewer must first encode the visual array by identifying meaningful visual features, such as a straight light slanting downward.
Next, the viewer must classify the quantitative measures and relationships in which those visual features illustrate, such as a decreasing linear relationship between x and y.
The last step involves translating the quantitative measures and relationships to the variables defined in the data set, such as a population decreasing over years.
These studies establish the process in which viewers interact with charts by first perceptually observing the visual features and later translating to cognitive processing of the information depicted by those features (Shah \& Carpenter, 1995).

In recent years, there have been advancements in the methodology used to investigate the effectiveness of statistical charts (Vanderplas, Cook, \& Hofmann, 2020).
Some of the new methods\svp{Lineups have been around since 2009, they're not quite *new* so much as newer than the other options?}, such as the lineup protocol (Buja et al., 2009), utilize the grammar of graphics designation of a data plot as a statistic through the functional mapping of variable(s). \svp{Lineups don't depend on grammar of graphics, though grammar of graphics makes them exponentially more powerful.}
This allows the data plot to be tested similar to other statistics, by comparing the actual data plot to a set of plots with the absence of any data structure we can test the likelihood of any perceived structure being significant (Vanderplas, Cook, \& Hofmann, 2020).
While the methodology of these recent experiments differs from earlier studies, the focus is still on initial perception and graph comprehension with a relatively small amount of work conducted to understand the effect of design choices on higher cognitive processes such as learning or analysis (Green \& Fisher, 2009). \svp{This is in part because lineups only ask about perceived differences and do not test the actual ability to read information off of a graph accurately or the conclusions drawn from the graph. They are a lower-level tool, which makes them powerful because they can eliminate ambiguous questions, but also limits their real-world application in the absence of complex experimental designs (feature hierarchy, etc.).}
Most recent graphics experiments have utilized tools such as Amazon Turk, Prolific, Reddit, and other crowd sourcing websites to evaluate the psychophysics and patterns associated with design choices (VanderPlas \& Hofmann, 2017)\svp{You need to cite more than one experiment if you want to make this claim, and they can't all be lineup experiments. Really, you'd need a very long list of experiments and would ideally be able to show which used online vs. in-person testing...}. Such studies tend to be limited by the questions asked while other methods such as Thinking aloud and Eye Tracking allow researchers to evaluate the overall perception of the graphic (Vanderplas, Cook, \& Hofmann, 2020).

\hypertarget{logarithmic-scales-and-mapping}{%
\section{Logarithmic Scales and Mapping}\label{logarithmic-scales-and-mapping}}

We have recently experienced the impact graphics and charts have on a large scale through the SARSNCOV-2 pandemic (COVID-19). At the beginning of 2020, we saw an influx of dashboards being developed to display case counts, transmission rates, and outbreak regions (GmbH, 2020); mass media routinely showed charts to share information with the public about the progression of the pandemic (Romano, Sotis, Dominioni, \& Guidi, 2020).
People began seeking out graphical displays of COVID-19 data as a direct result of these pieces of work (GmbH, 2020); providing increased and ongoing exposure to these graphics over time. \svp{It would be appropriate to add some of those graphics in here, if you wanted to...}
Many of these graphics helped guide decision makers to implement policies such as shut-downs or mandated mask wearing, as well as facilitated communication with the public to increase compliance (Bavel et al., 2020).
As graphics began to play an important role in the communication of the pandemic, creators of graphics were faced with design choices in order to ensure their charts were effective.

When faced with data which spans several orders of magnitude, we must decide whether to show the data on its original
scale (compressing the smaller magnitudes into relatively little area) or to transform the scale and alter the contextual appearance of the data.
One common solution is to use a log scale transformation to display data over several orders of magnitude within one graph.
Logarithms turn multiplicative relationships additive\svp{phrasing?}, showing elasticities and other proportional changes, and also linearize power laws (Menge et al., 2018).
They also have practical purposes, easing the computation of small numbers such as likelihoods and transforming data to fit statistical assumptions.
When presenting log scaled data, it is possible to use either un-transformed scale labels (for example, values of 1, 10 and 100 are equally spaced along the axis) or log transformed scale labels (for example, 0, 1, and 2, showing the corresponding powers of 10).\svp{In the grammar of graphics/ggplot2 formulation, this is the difference between a scale and a transformation... it might be worth seeing if that is a hadley-ism or if that is a wider convention.}
We have recently experienced the benefits and pitfalls of using log scales as COVID-19 dashboards displayed
case count data on both the log and linear scale (Burn-Murdoch et al., 2020; Fagen-Ulmschneider, 2020). In spring 2020, during the early stages of the COVID-19 pandemic, there were large magnitude discrepancies in case counts at a given time point between different geographic regions (e.g.~states and provinces as well as countries and continents).
During this time, we saw the usefulness of log scale transformations showing case count curves for areas with few cases and areas with many cases within one chart.
As the pandemic evolved, and the case counts were no longer spreading exponentially, graphs with linear scales seemed more effective at spotting early increases in case counts that signaled more localized outbreaks.
This is only one recent example of a situation in which both log and linear scales are useful for showing different aspects of the same data. There are long histories of using log scales to display results in ecology, psychophysics, engineering, and physics (Heckler, Mikula, \& Rosenblatt, 2013; Menge et al., 2018) \svp{elaborate on this a bit - when are they used, and where are they effective? Can you draw more comprehensive conclusions about the use of log scales?}. The usefulness of the log scale in science is exemplified in \cref{fig:log-scale-comic} (Munroe, 2005).

\begin{figure}[tbp]

{\centering \includegraphics[width=0.7\linewidth,]{images/log-scale-comic} 

}

\caption{Log scale comic}\label{fig:log-scale-comic}
\end{figure}

\svp{You might start this out by pointing out that while logarithms seem unnatural at first, we learn to count by ones, tens, and hundreds -- that is, in a base10 order of magnitude system. Then you can transition to research showing one, two, 10 and log-number scales.}

Research suggests our perception and mapping of numbers to a number line is logarithmic at first, but transitions
to a linear scale later in development, with formal mathematics education (Dehaene, Izard, Spelke, \& Pica, 2008; Siegler \& Braithwaite, 2017, 2017; Varshney \& Sun, 2013).
For example, a kindergartner asked to place numbers 1-10 along a number line would place 3 close to the middle, following the logarithmic perspective (Varshney \& Sun, 2013). \svp{Might be worth showing this graphically if you can reproduce pics from the paper...}
With basic training, members of remote cultures with a basic vocabulary and minimal education understood the concept that numbers can be mapped into a spacial space (Dehaene, Izard, Spelke, \& Pica, 2008). There was a gradual transition from logarithmic to linear scale as the mapping of whole number magnitude representations transitioned from a compressed (approximately logarithmic) distribution to an approximately linear one.
These results indicate the universal and cultural-dependent characteristics of the sense of number.

\svp{Weber's law isn't quite the same thing as the numerical cognition stuff on log scales - it's a different perceptual phenomenon that is definitely related, but distinct in causal mechanism (as far as I know).}

This phenomenon was first discovered by Ernst Weber, an early psychophysics researcher, by determining the relationship between the difference threshold (smallest detectable difference between two sensory stimuli; known as the ``Just Noticable Difference'') and the magnitude of a stimulus.
This holds true for a variety of stimuli such as weight, light, and sound as well as for a range of magnitudes; larger numbers require a proportional larger difference in order to remain equally discriminate (Dehaene, Izard, Spelke, \& Pica, 2008).
Known as \textbf{Weber's law}, it was established that we do not notice absolute changes in stimuli, but instead that we notice the relative change (Sun, Wang, Goyal, \& Varshney, 2012).
Numerically, Weber's Law is defined as
\begin{equation}
\frac{\Delta S}{S} = K
\end{equation}
where \(\Delta S\) represents the difference threshold, S represents the initial stimulus intensity, and K is called Weber's contrast which remains constant as the magnitude of S changes.
Gustav Fechner, a founder of psychophysics, provided further extension to Weber's law by discovering the relationship between the perceived intensity is logarithmic to the stimulus intensity when observed above a minimal threshold of perception (Sun, Wang, Goyal, \& Varshney, 2012).
Formally known as the Weber-Fechner law is derived from Weber's law as
\begin{equation}
P = K\ln \frac{S}{S_0}
\end{equation}
where P represents the perceived stimulus, K represents Weber's contrast, S represents the initial stimulus intensity, and \(S_0\) represents the minimal threshold of perception.

Assuming there is a direct relationship between perceptual and cognitive processes, it is reasonable to assume numerical representations should also be displayed on a nonlinear, compressed number scale. Therefore, if we perceive logarithmically by default, it is a natural (and presumably low effort) way to display information and should be easy to read and understand/use.
The idea is compression enlarges the coding space, thus increasing the dynamic range of perception and firing neurons within our visual system (Nieder \& Miller, 2003).
Similar to the training and education required to transition from logarithmic mapping to linear mapping, there is also necessary training required in the assessment of graphical displays associated with logarithmic scales. Haemer \& Kelley (1949) identify semi-logarithmic charts for temporal series as requiring a certain degree of technical training.

\hypertarget{underestimation}{%
\section{Underestimation of Exponential Growth}\label{underestimation}}

\svp{Start out by showing exponential growth e.g. 3 stages (early, mid, late) to explain why this is a hard problem to solve...}
\svp{This reads like a bulleted list turned into a paragraph, which isn't bad, but it does need some work - turn it into a narrative, explain weaknesses in these studies, etc.}

Early studies explored the estimation and prediction of exponential growth, finding that growth is underestimated when presented both numerically and graphically but that numerical estimation is more accurate than graphical estimation for exponential curves (Wagenaar \& Sagaria, 1975).
One way to improve estimation of increasing exponential trends is to provide immediate feedback to participants about the accuracy of their current predictions (Mackinnon \& Wearing, 1991).
While prior contextual knowledge or experience with exponential growth does not improve estimation, instruction on exponential growth reduces the underestimation: participants adjust their initial starting value but not their perception of growth rate (Jones, 1977; Wagenaar \& Sagaria, 1975).
Our inability to accurately predict exponential growth might also be addressed by log transforming the data, however, this transformation introduces new complexities; most readers are not mathematically sophisticated enough to intuitively understand logarithmic math and translate that back into real-world effects.

In Menge et al. (2018), ecologists were surveyed to determine how often ecologists encounter log scaled data and how well ecologists understand log scaled data when they see it in the literature.
Participants were presented two relationships displayed on linear-linear scales, log-log scales with untransformed values, or log--log scales with log transformed values.
The authors propose three types of misconceptions participants encountered when presented data on log-log scales: `hand-hold fallacy,' `Zeno's zero fallacy,' and `watch out for curves fallacies.'
These misconceptions are a result of linear extrapolation assuming that a line in log-log space represents a line instead of the power law in linear-linear space.
The study found that in each of these scenarios, participants were confident in their incorrect responses, indicating incorrect knowledge rather than a lack of knowledge.

\svp{You might take a whack at illustrating some of these fallacies}

The `hand-hold fallacy' stems from the misconception that steeper slopes in log-log relationships are steeper slopes in linear-linear space. In fact, it is not only the slope that matters, but also the intercept and the location on the horizontal axis since a line in log-log space represents a power law in linear-linear space (i.e.~linear extrapolation).
Emerging from `Zeno's zero fallacy' is the misconception that positively sloped lines in log-log space can imply a non-zero value of y when x is zero.
This is never true as positively sloped lines in log-log space actually imply that y = 0 when x = 0. This misconception again is a result of linear extrapolation assuming that a line in log-log space represents a line instead of the power law in linear-linear space.
The last misconception, `watch out for curves fallacies' encompasses three faults: (1) lines in log-log space are lines in linear-linear space, (2) lines in log-log space curve upward in linear-linear space, and (3) curves in log-log space have the same curvature in linear-linear space.
Linear extrapolation is again responsible for the first and third faults while the second fault is a result of error in thinking that log-log lines represent power laws (which are exponential relationships), and all exponential relationships curve upward; this is only true when the log-log slope is greater than 1.
Menge et al. (2018) found that in each of these scenarios, participants were confident in their incorrect responses, indicating incorrect knowledge rather than a lack of knowledge.

\hypertarget{research-objectives}{%
\section{Research Objectives}\label{research-objectives}}

In my research, I conduct three graphical experimental tasks to evaluate the impact our choice of scale (log/linear) has on human perception of exponentially increasing trends.
The first experiment evaluates whether our ability to perceptually notice differences in exponentially increasing trends is impacted by the choice of scale. I conducted a visual inference experiment in which participants were shown a series of lineup plots and asked to identify the panel that was most different from the others.
The other experimental tasks focus on determining whether there are cognitive disadvantages to log scales: do log scales make it harder to make use of graphical information?
I conducted a graphical task similar to the New York Times ``You Draw It'' page to test an individual's ability to use and make predictions for exponentially increasing data.
Participants were asked to draw a line using their computer mouse through the increasing exponential trend shown on both scales.
In addition to differentiation and prediction of exponentially increasing data, an experimental task was conducted to test an individuals' ability to translate a graph of exponentially increasing data into real value quantities and extend their estimations by making comparisons.
The results of the three experimental tasks provide guidelines for readers to actively choose which of many possible graphics to draw, according to some set of design choices, to ensure that their charts are effective.

\svp{Things that seem to be missing: 1) Cleveland and McGill - hierarchy of accuracy in plot objects. You can think of e.g. exponentials as a series of tangential angles, which might help with explaining underestimation? 2) some literature explaining the different levels of complexity between perception, reading information off of a graph, predicting information, etc. - you should find this if only because it grounds the whole experiment in psychological theory (but you don't have to find it for your prelim)}

\hypertarget{lineups}{%
\chapter{Perception through lineups}\label{lineups}}

\hypertarget{introduction}{%
\section{Introduction}\label{introduction}}

Previously, we saw how a data plot can be evaluated and treated as a visual statistic, a numerical function which summarizes the data.
To evaluate a graph, we have to run our statistic through a visual evaluation - a person.
If two different methods of presenting data result in qualitatively different results when evaluated visually, then we can conclude that the visual statistics are significantly different.
Recent graphical experiments have utilized statistical lineups to quantify the perception of graphical design choices
(Hofmann, Follett, Majumder, \& Cook, 2012; Loy, Follett, \& Hofmann, 2016; Loy, Hofmann, \& Cook, 2017; VanderPlas \& Hofmann, 2017).
Statistical lineups provide an elegant way of combining perception and statistical hypothesis testing using graphical experiments (Majumder, Hofmann, \& Cook, 2013; Vanderplas, Cook, \& Hofmann, 2020; H. Wickham, Cook, Hofmann, \& Buja, 2010).
`Lineups' are named after the `police lineup' of criminal investigations where witnesses are asked to identify the criminal from a set of individuals.
Similarly, a statistical lineup is a plot consisting of smaller panels; the viewer is asked to identify the plot of the real data from among a set of decoy null plots.
A statistical lineup typically consists of 20 panels - 1 target panel and 19 null panels. Figure
If the viewer can identify the target panel embedded within the set of null panels, this suggests that the real data is visually distinct from data generated under the null model.
\cref{fig:lineup-example} provides example's of a statistical lineup's. The lineup plot on the left displays increasing exponential data on a linear scale with panel (2 x 5) + 3 as the target.
The lineup plot on the right displays increasing exponential data on the log scale with panel 2 x 2 as the
target.
Crowd sourcing websites such as Amazon Mechanical Turk, Reddit, and Prolifc allow us to collect responses from multiple viewers.

\begin{figure}[tbp]

{\centering \includegraphics[width=\linewidth,]{thesis_files/figure-latex/lineup-example-1} 

}

\caption{Lineup example}\label{fig:lineup-example}
\end{figure}

While explicit graphical tests direct the participant to a specific feature of a plot to answer a specific question, implicit graphical tests require the user to identify both the purpose and function of the plot in order to evaluate the plots shown (Vanderplas, Cook, \& Hofmann, 2020).
Implicit graphical tests, such as lineups, have the advantage of simultaneously visually testing for multiple visual features including outliers, clusters, linear and nonlinear relationships.
To lay a foundation for future exploration of the use of log scales, we begin with the most fundamental ability to identify differences in charts; this does not require that participants understand exponential growth, identify log scales, or have any mathematical training.
Instead, we are simply testing the change in perceptual sensitivity resulting from visualization choices.
The study in this chapter is conducted through visual inference and the use of statistical lineups to differentiate between exponentially increasing curves with differing levels of curvature, using linear and log scales.

\hypertarget{data-generation}{%
\section{Data Generation}\label{data-generation}}

In this study, both the target and null data sets were generated by simulating data from an exponential model; the models differ in the parameters selected for the null and target panels.
In order to guarantee the simulated data spans the same domain and range of values, we implemented a domain constraint of \(x\in [0,20]\) and a range constraint of \(y\in [10,100]\) with \(N = 50\) points randomly assigned throughout the domain and mapped to the y-axis using the exponential model with the selected parameters.
These constraints provide some assurance that participants who select the target plot are doing so because of their visual perception differentiating between curvature or growth rate rather than different starting or ending values.

Data was simulated based on a three-parameter exponential model with multiplicative errors:
\begin{align}
y_i & = \alpha\cdot e^{\beta\cdot x_i + \epsilon_i} + \theta \\
\text{with } \epsilon_i & \sim N(0, \sigma^2). \nonumber
\end{align}
The parameters \(\alpha\) and \(\theta\) are adjusted based on \(\beta\) and \(\sigma^2\) to guarantee the range and domain constraints are met.
The model generated \(N = 50\) points \((x_i, y_i), i = 1,...,N\) where \(x\) and \(y\) have an increasing exponential relationship.
The heuristic data generation procedure is described below:

\noindent \textit{Algorithm 2.1.1: Paremeter Estimation}

\noindent \textbf{Input Parameters:} domain \(x\in[0,20]\), range \(y\in[10,100]\), midpoint \(x_{mid}\).

\noindent \textbf{Output:} estimated model parameters \(\hat\alpha, \hat\beta, \hat\theta\)

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Determine the \(y=-x\) line scaled to fit the assigned domain and range.
\item
  Map the values \(x_{mid} - 0.1\) and \(x_{mid} + 0.1\) to the \(y=-x\) line for two additional points.
\item
  From the set points \((x_k, y_k)\) for \(k = 1,2,3,4\), obtain the coefficients from the linear model \(\ln(y_k) = b_0 +b_1x_k\) to obtain starting values - \(\alpha_0 = e^{b_0}, \beta_0 = b_1, \theta_0 = 0.5\cdot \min(y)\)
\item
  Using the \texttt{nls()} function from the \texttt{stats} package in Rstudio and the starting parameter values - \(\alpha_0, \beta_0, \theta_0\) - fit the nonlinear model, \(y_k = \alpha\cdot e^{\beta\cdot x_k}+\theta\) to obtain estimated parameter values - \(\hat\alpha, \hat\beta, \hat\theta.\)
\end{enumerate}

\noindent\textit{Algorithm 2.1.2: Exponential Simulation}

\noindent \textbf{Input Paremeters:} sample size \(N = 50\), estimated parameters \(\hat\alpha\), \(\hat\beta\), and \(\hat\theta\), \(\sigma\) standard deviation from the exponential curve.

\noindent \textbf{Output Parameters:} \(N\) points, in the form of vectors \(\mathbf{x}\) and \(\mathbf{y}\).

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Generate \(\tilde x_j, j = 1,..., N\cdot \frac{3}{4}\) as a sequence of evenly spaced points in \([0,20]\). This ensures the full domain of \(x\) is used, fulfilling the constraints of spanning the same domain and range for each parameter combination.
\item
  Obtain \(\tilde x_i, i = 1,...N\) by sampling \(N = 50\) values from the set of \(\tilde x_j\) values. This gaurantees some variability and potential clustring in the exponential growth curve disrupting the perception due to continuity of points.
\item
  Obtain the final \(x_i\) values by jittering \(\tilde x_i\).
\item
  Calculate \(\tilde\alpha = \frac{\hat\alpha}{e^{\sigma^2/2}}.\) This ensures that the range of simulated values for different standard devaition parameters has an equal expected value for a given rate of change due to the non-constant variance across the domain.
\item
  Generate \(y_i = \tilde\alpha\cdot e^{\hat\beta x_i + e_i}+\hat\theta\) where \(e_i\sim N(0,\sigma^2).\)
\end{enumerate}

\hypertarget{parameter-selection}{%
\section{Parameter Selection}\label{parameter-selection}}

For each level of difficulty, we simulated 1000 data sets of \((x_{ij}, y_{ij})\) points for \(i = 1,...,50\) and \(j = 1...10\).
Each generated \(x_i\) point from \textit{Algorithm 2.1.2} was replicated 10 times.
Then the lack of fit statistic (LOF) was computed for each simulated data set by calculating the deviation of the data from a linear line.
Plotting the density curves of the LOF statistics for each level of difficulty choice allows us to evaluate the ability of differentiating between the difficulty levels and thus detecting the target plot.
In \cref{fig:lof-density-curves}, we can see the densities of each of the three difficulty levels.
While the LOF statistic provides us a numerical value for discriminating between the difficulty levels, we cannot directly relate this to the perceptual discriminability; it serves primarily as an approximation to ensure that we are testing parameters at several distinct levels of difficulty.
Final parameter estimates are shown in \cref{tab:parameter-data}.

\begin{figure}[tbp]

{\centering \includegraphics[width=\linewidth,]{thesis_files/figure-latex/lof-density-curves-1} 

}

\caption{Lack of fit statistic density curves}\label{fig:lof-density-curves}
\end{figure}

\begin{table}

\caption{\label{tab:parameter-data}Lineup data simulation final parameters}
\centering
\begin{tabular}[t]{ccccccc}
\toprule
 & $x_{mid}$ & $\hat\alpha$ & $\tilde\alpha$ & $\hat\beta$ & $\hat\theta$ & $\hat\sigma$\\
\midrule
Easy & 14.5 & 0.91 & 0.88 & 0.23 & 9.10 & 0.25\\
Medium & 13.0 & 6.86 & 6.82 & 0.13 & 3.14 & 0.12\\
Hard & 11.5 & 37.26 & 37.22 & 0.06 & -27.26 & 0.05\\
\bottomrule
\end{tabular}
\end{table}

\hypertarget{lineup-setup}{%
\section{Lineup Setup}\label{lineup-setup}}

Lineup plots were generated by mapping one simulated data set corresponding to difficulty level A to a scatter plot to be identified as the target plot while multiple simulated data sets corresponding to difficulty level B were individually mapped to scatter plots for the null plots.
For example, a target plot with simulated data following an increasing exponential curve with obvious curvature is embedded within null plots with simulated data following an increasing exponential trend that is almost linear (i.e.~Hard Null - Easy Target).
By our constraints, the target plot and null plots will span a similar domain and range.
There are a total of six (i.e.~\(3!\cdot 2!\)) lineup parameter combinations.
Two sets of each lineup parameter combination were simulated (total of 12 test data sets) and plotted on both the linear scale and the log scale (total of 24 test lineup plots).
In addition, there are three parameter combinations which generate homogeneous ``Rorschach'' lineups, where all panels are from the same distribution. Each participant evaluated one of these lineups, but for simplicity, these evaluations are not described in this paper.

\hypertarget{study-design}{%
\section{Study Design}\label{study-design}}

Each participant was shown a total of thirteen lineup plots (twelve test lineup plots and one Rorschach lineup plot). Participants were randomly assigned one of the two replicate data sets for each of the six unique lineup parameter combinations.
For each assigned test data set, the participant was shown the lineup plot corresponding to both the linear scale and the log scale. For the additional Rorschach lineup plot, participants were randomly assigned one data set shown on either the linear or the log scale.
The order of the thirteen lineup plots shown was randomized for each participant.

Participants above the age of majority were recruited from Reddit's Visualization and Sample Size communities.
Since participants recruited on Reddit were not compensated for their time, most participants have an interest in data visualization research.
Previous literature suggests that prior mathematical knowledge or experience with exponential data is not associated with the outcome of graphical experiments (VanderPlas \& Hofmann, 2015).
Participants completed the experiment using a Shiny applet (\url{https://shiny.srvanderplas.com/log-study/}).

Participants were shown a series of lineup plots and asked to identify the plot that was most different from the others.
On each plot, participants were asked to justify their choice and provide their level of confidence in their choice.
The goal of this experimental task is to test an individuals ability to perceptually differentiate exponentially increasing trends with differing levels of curvature on both the linear and log scale.

\hypertarget{results}{%
\section{Results}\label{results}}

Participant recruitment through Reddit occurred over the course of two weeks during which 58 individuals completed 518 unique test lineup evaluations.
Previous studies have found that results do not differ on lineup-related tasks between Reddit and e.g.~Amazon Mechanical Turk (VanderPlas \& Hofmann, 2017).
Participants who completed fewer than 6 lineup evaluations were removed from the study (17 participants, 41 evaluations).
The final data set included a total of 41 participants and 477 lineup evaluations.
Each plot was evaluated by between 18 and 28 individuals (Mean: 21.77, SD: 2.29).
In 67\% of the 477 lineup evaluations, participants correctly identified the target panel.

Target plot identification was analyzed using the lme4 R package and glmer function (Bates, Mächler, Bolker, \& Walker, 2015). Estimates and odds ratio comparisons were calculated using the emmeans R package (Lenth, 2021).
Each lineup plot evaluated was assigned a value based on the participant response (correct = 1, not correct = 0).
Define \(Y_{ijkl}\) to be the event that participant \(l\) correctly identifies the target plot for data set \(k\) with curvature \(j\) plotted on scale \(i\).
The binary response was analyzed using generalized linear mixed model following a binomial distribution with a logit link function following a row-column blocking design accounting for the variation due to participant and data set respectively as
\begin{equation}
\text{logit }P(Y_{ijk}) = \eta + \delta_i + \gamma_j + \delta \gamma_{ij} + s_l + d_k
\end{equation}
where

\begin{itemize}
\item $\eta$ is the baseline average probability of selecting the target plot
\item $\delta_i$ is the effect of the log/linear scale
\item $\gamma_j$ is the effect of the curvature combination
\item $\delta\gamma_{ij}$ is the two-way interaction effect of the scale and curvature
\item $s_l \sim N(0,\sigma^2_\text{participant})$, random effect for participant characteristics
\item $d_k \sim N(0,\sigma^2_{\text{data}})$, random effect for data specific characteristics. 
\end{itemize}

\noindent We assume that random effects for data set and participant are independent.

The analysis of variance table shown in \cref{tab:lineup-anova-table} indicate a significant interaction between the curvature combination and scale. Variance due to participant and data set were estimated to be \(\sigma^2_{\text{participant}} = 2.79\) (s.e. 1.67) and \(\sigma^2_{\text{data}} = 0.44\) (s.e. 0.66) respectively.

\begin{table}

\caption{\label{tab:lineup-anova-table}Lineup ANOVA table for fixed effects.}
\centering
\begin{tabular}[t]{cccc}
\toprule
Effect & Chisq & Df & Pr..Chisq.\\
\midrule
Curvature & 19.96 & 5 & 0.00127\\
Scale & 14.43 & 1 & 0.00015\\
Curvature x Scale & 33.65 & 5 & <0.0001\\
\bottomrule
\end{tabular}
\end{table}

On both the log and linear scales, the highest accuracy occurred in lineup plots where the target model and null model had large curvature differences (Easy Null - Hard Target; Hard Null - Easy Target).
There is a decrease in accuracy on the linear scale when comparing a target plot with less curvature to null plots with more curvature (Easy Null - Medium Target; Medium Null - Hard Target).
Best, Smith, \& Stubbs (2007) found that accuracy of identifying the correct curve type was higher when nonlinear trends were presented indicating that it is hard to say something is linear (i.e.~something has less curvature), but easy to say that it is not linear; our results concur with this observation.
Overall, there are no significant differences in accuracy between curvature combinations when data is presented on a log scale indicating participants were consistent in their success of identifying the target panel on the log scale.
\cref{fig:odds-ratio-plot} displays the estimated (log) odds ratio of successfully identifying the target panel on the log scale compared to the linear scale.
The choice of scale has no impact if curvature differences are large (Hard Null - Easy Target; Easy Null - Hard Target).
However, presenting data on the log scale makes us more sensitive to slight changes in curvature (Medium Null - Easy Target; Medium Null - Hard Target; Easy Null - Medium Target).
An exception occurs when identifying a plot with curvature embedded in null plots close to a linear trend (Hard Null - Medium Target), again supporting the claim that it is easy to identify a curve in a bunch of lines but much harder to identify a line in a bunch of curves (Best, Smith, \& Stubbs, 2007).

\begin{figure}[tbp]

{\centering \includegraphics[width=\linewidth,]{thesis_files/figure-latex/odds-ratio-plot-1} 

}

\caption{Lineups log(odds) results}\label{fig:odds-ratio-plot}
\end{figure}

\hypertarget{discussion-and-conclusion}{%
\section{Discussion and Conclusion}\label{discussion-and-conclusion}}

The overall goal of this chapter is to provide basic research to support the principles used to guide design decisions in scientific visualizations of exponential data.
In this study, we explore the use of linear and log scales to determine whether our ability to notice differences in exponentially increasing trends is impacted by the choice of scale.
Our results indicated that when there was a large difference in curvature between the target plot and null plots, the choice of scale had no impact and participants accurately differentiated between the two curves on both the linear and log scale.
However, displaying exponentially increasing data on a log scale improved the accuracy of differentiating between models with slight curvature differences.
An exception occurred when identifying a plot with curvature embedded in surrounding plots closely relating to a linear trend, indicating that it is easy to identify a curve in a group of lines but much harder to identify a line in a group of curves.
The use of visual inference to identify these guidelines suggests that there are \emph{perceptual} advantages to log scales when differences are subtle.
What remains to be seen is whether there are cognitive disadvantages to log scales: do log scales make it harder to make use of graphical information?

\hypertarget{youdrawit}{%
\chapter{Prediction with you draw it}\label{youdrawit}}

\hypertarget{introduction-1}{%
\section{Introduction}\label{introduction-1}}

In \protect\hyperlink{lineups}{Chapter 2}, a base foundation for future exploration of the use of log scales was established by evaluating participants ability to identify differences in charts through the use of lineups.
This did not require that participants were able to understand exponential growth, identify log scales, or have any mathematical training; instead, it simply tested the change in perceptual sensitivity resulting from visualization choices.
In order to determine whether there are cognitive disadvantages to log scales, we utilize interactive graphics to test an individual's ability to make predictions for exponentially increasing data. In this study, participants are asked to draw a line using their computer mouse through the exponentially increasing trend shown on both the log and linear scale.

\hypertarget{past-methodology}{%
\subsection{Past Methodology}\label{past-methodology}}

Initial studies in the 20th century explored the use of fitting lines by eye through a set of points (Finney, 1951; Mosteller, Siegel, Trapido, \& Youtz, 1981).
Common methods of fitting trends by eye involve maneuvering a string, black thread, or ruler until the fit is suitable, then drawing the line.
In Finney (1951), it was of interest to determine the effect of stopping iterative maximum likelihood calculations after one iteration. Twenty-one scientists were recruited via postal mail and asked to ``rule two lines'' in order to judge by eye the positions for a pair of parallel probit regression lines in a biological assay.
Results indicated that one cycle of iterations was sufficient based on the starting values provided by eye from the participants.

Thirty years later, Mosteller, Siegel, Trapido, \& Youtz (1981), sought to understand the properties of least squares and other computed lines by establishing one systematic method of fitting lines by eye.
The authors recruited 153 graduate students and post doctoral researchers in Introductory Biostatistics.
Participants were asked to fit lines by eye to four sets of points using an 8.5 x 11 inch transparency with a straight line etched completely across the middle.
A latin square design with packets of the set of points stapled together in four different orders was used in order to determine if there is an effect of order of presentation.
It was found that order of presentation had no effect and that participants tended to fit the slope of the first principal component over the slope of the least squares regression line.

In 2015, the New York Times introduced an interactive feature, called You Draw It (Aisch, Cox, \& Quealy, 2015; Buchanan, Park, \& Pearce, 2017; Katz, 2017).
Readers are asked to input their own assumptions about various metrics and learning how these asumptions relate to reality.
The NY Times team utilizes Data Driven Documents (D3) that allows readers to predict these metrics through the use of drawing a line on their computer screen with their computer mouse.

\hypertarget{data-driven-documents}{%
\subsection{Data Driven Documents}\label{data-driven-documents}}

Major news and research organizations such as the NY Times, FiveThirtyEight, Washing Post, and the Pew Research Center create and customize graphics with Data Driven Documents.
Data Driven Documents (D3) is an open-source JavaScript based graphing framework created by Mike Bostock during his time working on graphics at the NY Times.
For readers familiar with R, it is notable to consider D3 in JavaScript equivalent to the ggplot2 package in R.
Similar to geometric objects and style choices in ggplot2, the grammar of D3 also includes elements such as circles, paths, and rectangles with choices of attributes and styles such as color and size.
Data Driven Documents depend on Extensible Markup Langage (XML) to generate graphics and images by binding objects and layers to the plotting area as Scalable Vector Graphics (SVG) in order to preserve the shapes rather than the pixels \pcref{fig:raster-vs-vector} \ear{CITE: https://martech.zone/vecteezy-svg-editor-online/}.
Advantages of using D3 include animation and allowing for movement and user interaction such as hovering, clicking, and brushing.

\begin{figure}[tbp]

{\centering \includegraphics[width=0.75\linewidth,]{images/raster-vs-vector} 

}

\caption{SVG vs Raster}\label{fig:raster-vs-vector}
\end{figure}

A challenge of working with D3 is the environment necessary to display the graphics and images.
The r2d3 package in R provides an efficient integration of D3 visuals and R by displaying them in familiar HTML output formats such as RMarkdown or Shiny applications (Luraschi \& Allaire, 2018).
The creator of the graphic applies D3.js code to visualize data which has previously been processed within an R setting.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{r2d3}\NormalTok{(}\AttributeTok{data =}\NormalTok{ data, }\AttributeTok{script =} \StringTok{"d3{-}source{-}code.js"}\NormalTok{, }
    \AttributeTok{d3\_version =} \StringTok{"5"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

The example R code illustrates the structure of the r2d3 function in R which includes specification of a data frame in R (converted to a JSON file), the D3.js source code file, and the D3 version that accompanies the source code.
A default SVG container for layering elements is then generated by the r2d3 function which renders the plot using the source code.
\protect\hyperlink{youdrawit-with-shiny}{Appendix A} outlines the development of the you draw it study interactive plots through the use of r2d3 with R shiny applications.

\hypertarget{study-design-1}{%
\section{Study Design}\label{study-design-1}}

This chapter first aims to establish the you draw it method as a tool for measuring predictions of trends; then this method will be used to test an individual's ability to make predictions for exponentially increasing data on both the log and linear scales, referred to as Prediction of Exponential Trends.
Mosteller, Siegel, Trapido, \& Youtz (1981) was replicated as part of the study data collection in order to validate the you draw it method, this will be referred to as Eye Fitting Straight Lines in the Modern Era.
Data for both the Eye Fitting Straight Lines in the Modern Era and Prediction of Exponential Trends studies were collected in conjunction with one another over the same study participant sample.

For each individual, a total of 6 data sets - 4 Eye Fitting Straight Lines in the Modern Era and 2 Prediction of Exponential Trends - are generated for each individual the start of the experiment.
The 2 data sets corresponding to to the data used in the Prediction of Exponential Trends are then plotted a total of 4 times each by truncating the points at both 50\% and 75\% of the domain as well as on both the log and linear scales for a total of 8 task plots.
Participants in the study are first shown 2 you draw it plot practice plots followed by 12 you draw it task plots.
The order of all 12 task plots were randomly assigned for each individual in a completely randomized design where users saw the 4 task plots from the Eye Fitting Straight Lines in the Modern Era simulated data interspersed with the 8 task plots from the Prediction of Exponential Trends simulated data.

\hypertarget{eye-fitting-straight-lines-in-the-modern-era}{%
\section{Eye Fitting Straight Lines in the Modern Era}\label{eye-fitting-straight-lines-in-the-modern-era}}

\hypertarget{data-simulation}{%
\subsection{Data Simulation}\label{data-simulation}}

All data processing was conducted in R before being passed to the D3.js code.
Both studies, Eye Fitting Straight Lines in the Modern Era and Prediction of Exponential Trends, generate 30 points for \(x\in [0, 20]\) based on a specific model (linear regression and exponential regression respectively) and selected coefficient and variance parameters.
The corresponding model is then fit to the simulated points the obtain the best fit line and estimated values every 0.25 increments across the domain.
Each function then outputs a list of point data and line data both indicating the parameter identification, x value, and y value.

\begin{itemize}
\tightlist
\item
  Aspect ratio = 1; yrange = range(all eye fitting data) range(1.1, 1.1)
\end{itemize}

\noindent *Algorithm: Eye Fitting Straight Lines in the Modern Era Data Generation*

\textbf{In parameters:} \texttt{y\_xbar,\ slope,\ sigma,\ N\ =\ 30,\ xmin,\ xmax,\ xby\ =\ 0.25}

\textbf{Out:} data list of point data and line data

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Randomly select and jitter N = 30 x-values along the domain.
\item
  Determine y-intercept at x = 0 from the provided slope and y-intercept at the mean of x (y\_xbar) using point-slope form: \texttt{y\ -\ y\_xbar\ =\ m(x-xbar)}
\item
  Generate ``good'' errors based on N(0,sigma). Set constraint of the mean of the first N/3 = 10 errors less than \textbar2*sigma\textbar{}
\item
  Simulate point data based on \(y = yintercept + slope*x + error\)
\item
  Obtain ordinary least squares regression coefficients: \texttt{lm(y\ \textasciitilde{}\ x,\ data\ =\ point\_data)}
\item
  Simulate least squares regression line data: \texttt{y\ =\ yintercepthat\ +\ slopehat*x}
\item
  Output data list of point data and line data
\end{enumerate}

\hypertarget{parameter-selection-1}{%
\subsection{Parameter Selection}\label{parameter-selection-1}}

\begin{itemize}
\tightlist
\item
  Parameter combinations were selected to simulate data that replicates the data sets (S, F, V, N) in (Mosteller, Siegel, Trapido, \& Youtz, 1981). One-way ANOVA with 4 treatments

  \begin{itemize}
  \tightlist
  \item
    \textbf{S}: positive slope, low variance (y\_xbar = 3.88, slope = 0.66, sigma = 1.3, xrange = (0,20))
  \item
    \textbf{F}: positive slope, high variance (y\_xbar = 3.9, slope = 0.66, sigma = 1.98, xrange = (0,20))
  \item
    \textbf{V}: steep positive slope (y\_xbar = 3.89, slope = 1.98, sigma = 1.5, xrange = (4,18))
  \item
    \textbf{N}: negative slope, high variance (y\_xbar = 4.11, slope = -0.70, sigma = 2.5, xrange = (0,20))
  \end{itemize}
\end{itemize}

\hypertarget{results-1}{%
\subsection{Results}\label{results-1}}

To calculate the first principal component fit: \url{https://benediktehinger.de/blog/science/scatterplots-regression-lines-and-the-first-principal-component/}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Subset the simulated point data for a particular participant and parameter (S, F, V, N).
\item
  Fit a principal component over the x and y vectors from the point data (note these are the points show in the plot below). Use prcomp. Call this \texttt{pca.mod}
\item
  Obtain the slope and intercept:

  \begin{itemize}
  \tightlist
  \item
    Using the pca.mod rotations we obatin the slope as: \(\text{pca.slope} = \frac{\text{pca.mod rotation}[y,PC1]}{\text{pca.mod rotation}[x,PC1]}\)
  \item
    Using point-slope form we obtain the intercept as:
  \end{itemize}
\item
  Obtain ypca values by: \(y_{pca} = \text{pca.slope} \cdot x_{\text{feedback data}} + \text{pca.intercept}\)
\end{enumerate}

\begin{figure}[tbp]

{\centering \includegraphics[width=1\linewidth,]{thesis_files/figure-latex/eyefitting-example-plot-1} 

}

\caption{Eye Fitting Straight Lines in the Modern Era Example}\label{fig:eyefitting-example-plot}
\end{figure}

\textbf{Treatments:}

\begin{itemize}
\tightlist
\item
  parm\_ID (S, F, V, N)
\item
  x (0, 20)
\end{itemize}

\textbf{Response:} raw residuals

\begin{itemize}
\tightlist
\item
  residualols = ydrawn - yols, denoted \(e_{ols}\)
\item
  residualpca = ydrawn - ypca, denoted \(e_{pca}\)
\end{itemize}

\textbf{Experimental Design:}

\begin{itemize}
\tightlist
\item
  Each participant saw each of the 4 plots (new simulated data for each)
\end{itemize}

\textbf{OLS GAMM Model:}

\[y_{drawn} - y_{ols} = e_{ij,ols} = \left[\gamma_0 + \alpha_i\right] + \left[s_1(x_{ij}) + s_{2i}(x_{ij}) \right] + p_{j} + \epsilon_{ij}\]

\begin{itemize}
\tightlist
\item
  \(\gamma_0\) is the overall intercept
\item
  \(\alpha_i\) is the effect of the parameter combination on the intercept (i.e.~how much the intercept adjusts for each parameter combo)
\item
  \(s_1\) is the overall spline equation for x
\item
  \(s_{2i}\) is the adjustment to the spline equation for each parameter combination (think unequal slopes)
\item
  \(p_{j} \sim N(0, \sigma^2_{participant})\) is the participant error due to participant variation
\item
  \(\epsilon_{ij} \sim N(0, \sigma^2)\) is the residual error.
\end{itemize}

\textbf{PCA GAMM Model:}

\[y_{drawn} - y_{pca} = e_{ij,pca} = \left[\gamma_0 + \alpha_i\right] + \left[s_1(x_{ij}) + s_{2i}(x_{ij}) \right] + p_{j} + \epsilon_{ij}\]

\begin{itemize}
\tightlist
\item
  \(\gamma_0\) is the overall intercept
\item
  \(\alpha_i\) is the effect of the parameter combination on the intercept (i.e.~how much the intercept adjusts for each parameter combo)
\item
  \(s_1\) is the overall spline equation for x
\item
  \(s_{2i}\) is the adjustment to the spline equation for each parameter combination (think unequal slopes)
\item
  \(p_{j} \sim N(0, \sigma^2_{participant})\) is the participant error due to participant variation
\item
  \(\epsilon_{ij} \sim N(0, \sigma^2)\) is the residual error.
\end{itemize}

\begin{figure}[tbp]

{\centering \includegraphics[width=1\linewidth,]{thesis_files/figure-latex/eyefitting-simplot-1} 

}

\caption{Eye Fitting Straight Lines in the Modern Era Simulated Data Example}\label{fig:eyefitting-simplot}
\end{figure}

\begin{figure}[tbp]

{\centering \includegraphics[width=1\linewidth,]{thesis_files/figure-latex/eyefitting-residualplots-1} 

}

\caption{Eye Fitting Straight Lines in the Modern Era Residual Models}\label{fig:eyefitting-residualplots}
\end{figure}

\begin{figure}[tbp]

{\centering \includegraphics[width=0.6\linewidth,]{thesis_files/figure-latex/eyefitting-ss-oddsratio-1} 

}

\caption{Eye Fitting Straight Lines in the Modern Era Sum of Squares Results}\label{fig:eyefitting-ss-oddsratio}
\end{figure}

\hypertarget{prediction-of-exponential-trends}{%
\section{Prediction of Exponential Trends}\label{prediction-of-exponential-trends}}

\hypertarget{data-simulation-1}{%
\subsection{Data Simulation}\label{data-simulation-1}}

\begin{itemize}
\tightlist
\item
  aspect ratio = 1; linear = T/F; start drawing at x = 10; xrange = (0,20), yrange = range(points)*c(0.5,2)
\end{itemize}

\noindent *Algorithm 3.2: Exponential Data Generation*

\textbf{In parameters:} \texttt{beta,\ sd,\ points\_choice\ =\ "partial",\ points\_end\_scale,\ N\ =\ 30,\ xmin\ =\ 0,\ xmax\ =\ 20,\ xby\ =\ 0.25}

\textbf{Out:} data list of point data and line data

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Randomly select and jitter N = 30 x-values along the domain.
\item
  Generate ``good'' errors based on N(0,sd). Set constraint of the mean of the first N/3 = 10 errors less than \textbar2*sd\textbar{}
\item
  Simulate point data based on: \texttt{y\ =\ exp(x*beta\ +\ errorVals)}
\item
  Obtain starting value for beta: \texttt{lm(log(y)\ \textasciitilde{}\ x,\ data\ =\ point\_data)}
\item
  Use NLS to fit a better line to the point data: \texttt{nls(y\ \textasciitilde{}\ exp(x*beta),\ data\ =\ point\_data,\ ...)}
\item
  Simulate nonlinear least squares line data: \texttt{y\ =\ exp(x*betahat)}
\item
  Output data list of point data and line data
\end{enumerate}

\hypertarget{parameter-selection-2}{%
\subsection{Parameter Selection}\label{parameter-selection-2}}

\begin{itemize}
\item
  Visit \href{https://emily-robinson.shinyapps.io/you-draw-it-parameter-selection/}{You Draw It Development - parameter selection} for examples.
\item
  Exponential (Linear/Log): 2 x 2 x 2 Factorial

  \begin{itemize}
  \tightlist
  \item
    Beta: 0.1 (sd. 0.09); 0.23 (0.25)
  \item
    Points End: 0.5; 0.75
  \item
    Scale: Linear; Log
  \end{itemize}
\end{itemize}

\hypertarget{results-2}{%
\subsection{Results}\label{results-2}}

\begin{itemize}
\tightlist
\item
  advocate smoothing of scatterplots to assist in detecting the shape of the point cloud in situations where the error in the data is substantial, or where the density of points changes along the abscissa Cleveland \& McGill (1984)
\item
  Twitter/Reddit/Direct Email Pilot Study (05/03/2021): \href{https://srvanderplas.github.io/Perception-of-Log-Scales/you-draw-it-development/you-draw-it-pilot-app/analyses/you-draw-it-exponential-prediction-pilot.html}{Exponential Prediction}
\item
  \url{https://shiny.srvanderplas.com/you-draw-it/}
\item
  Twitter/Reddit/Direct Email Pilot Study (05/03/2021): \href{https://srvanderplas.github.io/Perception-of-Log-Scales/you-draw-it-development/you-draw-it-pilot-app/analyses/you-draw-it-exponential-prediction-pilot.html}{Exponential Prediction}
\end{itemize}

\hypertarget{discussion-and-conclusion-1}{%
\section{Discussion and Conclusion}\label{discussion-and-conclusion-1}}

\hypertarget{estimation}{%
\chapter{Numerical Translation and Estimation}\label{estimation}}

\hypertarget{introduction-2}{%
\section{Introduction}\label{introduction-2}}

\begin{itemize}
\tightlist
\item
  Such complex inferential processes involve quantitatively transforming the information in the display (e.g., mentally transforming from a linear to logarithmic scale or calculating the difference between two or more data points; Cleveland, 1984, 1985).
\item
  Estimation Questions: Timmers \& Wagenaar (1977)

  \begin{itemize}
  \tightlist
  \item
    If nothing will stop this decreasing trend, what is your prediction for 1980? (Group 1)
  \item
    When will the process reach \ldots{} (a certain level)? (Group 2)
  \end{itemize}
\end{itemize}

\hypertarget{conclusion}{%
\chapter{Conclusion}\label{conclusion}}

\appendix

\hypertarget{youdrawit-with-shiny}{%
\chapter{You Draw It Setup with Shiny}\label{youdrawit-with-shiny}}

Interactive plots for the study were created using the r2d3 package and integrating D3 source code with an R shiny application.
In this section I outline the data simulation process conducted in R, constructing interactive plots with D3.js code and R shiny

\cref{fig:r2d3-shiny-flowchart}

\hypertarget{d3.js-source-code}{%
\section{You draw it D3.js source code}\label{d3.js-source-code}}

\begin{figure}[tbp]

{\centering \includegraphics[width=0.8\linewidth,]{images/r2d3+shiny-inkscape} 

}

\caption{Interactive plot development}\label{fig:r2d3-shiny-flowchart}
\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Define variable margins}
\NormalTok{const margin }\OtherTok{=}\NormalTok{ \{left}\SpecialCharTok{:} \DecValTok{55}\NormalTok{, }
\NormalTok{                right}\SpecialCharTok{:} \DecValTok{10}\NormalTok{, }
\NormalTok{                top}\SpecialCharTok{:}\NormalTok{ options.title ? }\DecValTok{40}\SpecialCharTok{:} \DecValTok{10}\NormalTok{, }
\NormalTok{                bottom}\SpecialCharTok{:}\NormalTok{ options.title? }\DecValTok{25}\SpecialCharTok{:} \DecValTok{55}\NormalTok{\};}

\CommentTok{\# Define variable default line attributes}
\NormalTok{const default\_line\_attrs }\OtherTok{=} \FunctionTok{Object.assign}\NormalTok{(\{}
\NormalTok{  fill}\SpecialCharTok{:} \StringTok{"none"}\NormalTok{,}
\NormalTok{  stroke}\SpecialCharTok{:}\NormalTok{ options.data\_line\_color }\SpecialCharTok{||} \StringTok{\textquotesingle{}steelblue\textquotesingle{}}\NormalTok{,}
\NormalTok{  strokeWidth}\SpecialCharTok{:} \DecValTok{4}\NormalTok{,}
\NormalTok{  strokeLinejoin}\SpecialCharTok{:} \StringTok{"round"}\NormalTok{,}
\NormalTok{  strokeLinecap}\SpecialCharTok{:} \StringTok{"round"}\NormalTok{,}
\NormalTok{\}, options.line\_style);}

\CommentTok{\# defines a changing variable called state}
\NormalTok{let state }\OtherTok{=} \FunctionTok{Object.assign}\NormalTok{(\{}
\NormalTok{  line\_data}\SpecialCharTok{:}\NormalTok{ data.line\_data,}
\NormalTok{  point\_data}\SpecialCharTok{:}\NormalTok{ data.point\_data,}
\NormalTok{  svg}\SpecialCharTok{:} \FunctionTok{svg.append}\NormalTok{(}\StringTok{\textquotesingle{}g\textquotesingle{}}\NormalTok{)}\FunctionTok{.translate}\NormalTok{([margin.left, margin.top])}\FunctionTok{.attr}\NormalTok{(}\StringTok{"class"}\NormalTok{, }\StringTok{"wrapper"}\NormalTok{),}
\NormalTok{  w}\SpecialCharTok{:}\NormalTok{ height}\SpecialCharTok{*}\NormalTok{options.aspect\_ratio }\SpecialCharTok{{-}}\NormalTok{ margin.left }\SpecialCharTok{{-}}\NormalTok{ margin.right,}
\NormalTok{  h}\SpecialCharTok{:}\NormalTok{ height }\SpecialCharTok{{-}}\NormalTok{ margin.top }\SpecialCharTok{{-}}\NormalTok{ margin.bottom,}
\NormalTok{\}, options);}

\CommentTok{\# To distinguish between code that runs at initialization{-}time only and}
\CommentTok{\# code that runs when data changes, organize your code so that the code}
\CommentTok{\# which responds to data changes is contained within the r2d3.onRender()}
\FunctionTok{r2d3.onRender}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(data, svg, width, height, options) \{}
  
\NormalTok{  state.line\_data }\OtherTok{=}\NormalTok{ data.line\_data;}
\NormalTok{  state.point\_data }\OtherTok{=}\NormalTok{ data.point\_data;}
  
\NormalTok{  state }\OtherTok{=} \FunctionTok{Object.assign}\NormalTok{(state, options);}
\NormalTok{  state.options }\OtherTok{=}\NormalTok{ options;}
\NormalTok{  state.w }\OtherTok{=}\NormalTok{ height}\SpecialCharTok{*}\NormalTok{options.aspect\_ratio;}

  \FunctionTok{start\_drawer}\NormalTok{(state);}

\NormalTok{\});}

\CommentTok{\# An explicit resize handler}
\FunctionTok{r2d3.onResize}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(width, height, options) \{}
\NormalTok{  state.w }\OtherTok{=}\NormalTok{ height}\SpecialCharTok{*}\NormalTok{state.options.aspect\_ratio }\SpecialCharTok{{-}}\NormalTok{ margin.left }\SpecialCharTok{{-}}\NormalTok{ margin.right;}
\NormalTok{  state.h }\OtherTok{=}\NormalTok{ height }\SpecialCharTok{{-}}\NormalTok{ margin.top }\SpecialCharTok{{-}}\NormalTok{ margin.bottom;}
  
  \FunctionTok{start\_drawer}\NormalTok{(state, }\AttributeTok{reset =}\NormalTok{ false);}

\NormalTok{\});}

\CommentTok{\# Main function that draws current state of viz}
\ControlFlowTok{function} \FunctionTok{start\_drawer}\NormalTok{(state, }\AttributeTok{reset =}\NormalTok{ true)\{}
\NormalTok{  const scales }\OtherTok{=} \FunctionTok{setup\_scales}\NormalTok{(state);}
  
  \ControlFlowTok{if}\NormalTok{(}\SpecialCharTok{!}\NormalTok{state.free\_draw)\{}
    \FunctionTok{draw\_true\_line}\NormalTok{(state, scales, state.draw\_start);}
\NormalTok{  \}}
  
  \CommentTok{\# Cover hidden portion with a rectangle (disabled)}
  \CommentTok{\# const line\_hider = setup\_line\_hider(state.svg, state.draw\_start, scales);}
  
  \CommentTok{\# if we reset (these are points that can be drawn) remove what user has drawn.}
  \ControlFlowTok{if}\NormalTok{(reset)\{}
\NormalTok{    state.drawable\_points }\OtherTok{=} \FunctionTok{setup\_drawable\_points}\NormalTok{(state);}
\NormalTok{  \}}
  
  \CommentTok{\# if we have points, we draw user\textquotesingle{}s line.}
  \FunctionTok{draw\_user\_line}\NormalTok{(state, scales);}
  \FunctionTok{draw\_rectangle}\NormalTok{(state, scales);}
  \FunctionTok{draw\_finished\_line}\NormalTok{(state, scales, state.draw\_start);}
  
    \CommentTok{\# draw points for initial portion}
  \ControlFlowTok{if}\NormalTok{(state.points }\SpecialCharTok{!=} \StringTok{"none"}\NormalTok{)\{}
    \FunctionTok{draw\_points}\NormalTok{(state, scales);}
\NormalTok{  \}}
  
  \CommentTok{\# invert from pixle to data scale when they draw their points}
\NormalTok{  const on\_drag }\OtherTok{=} \ControlFlowTok{function}\NormalTok{()\{}
\NormalTok{    const drag\_x }\OtherTok{=} \FunctionTok{scales.x.invert}\NormalTok{(d3.event.x);}
\NormalTok{    const drag\_y }\OtherTok{=} \FunctionTok{scales.y.invert}\NormalTok{(d3.event.y);}
    \FunctionTok{fill\_in\_closest\_point}\NormalTok{(state, drag\_x, drag\_y);}
    \FunctionTok{draw\_user\_line}\NormalTok{(state, scales);}
    \FunctionTok{draw\_rectangle}\NormalTok{(state, scales);}
\NormalTok{  \};}
  
  \CommentTok{\# line\_status is set by draw watcher {-} get user status line}
  \CommentTok{\# if some points missing {-} in progress}
  \CommentTok{\# complete line {-} done}
\NormalTok{  const on\_end }\OtherTok{=} \ControlFlowTok{function}\NormalTok{()\{}
    \CommentTok{\# Check if all points are drawn so we can reveal line}
\NormalTok{    const line\_status }\OtherTok{=} \FunctionTok{get\_user\_line\_status}\NormalTok{(state);}
    \ControlFlowTok{if}\NormalTok{(line\_status }\SpecialCharTok{==}\ErrorTok{=} \StringTok{\textquotesingle{}done\textquotesingle{}}\NormalTok{)\{}
      \CommentTok{\# User has completed line drawing}
      \CommentTok{\# if(state.show\_finished) line\_hider.reveal();}
      \CommentTok{\# if(!state.free\_draw)  line\_hider.reveal();}
      \ControlFlowTok{if}\NormalTok{(state.show\_finished)\{}
        \FunctionTok{draw\_finished\_line}\NormalTok{(state, scales, state.draw\_start);}
\NormalTok{      \}}
      \ControlFlowTok{if}\NormalTok{(state.shiny\_message\_loc)\{}
        \CommentTok{\# Make sure shiny is available before sending message}
        \ControlFlowTok{if}\NormalTok{(typeof Shiny }\SpecialCharTok{!=}\ErrorTok{=} \StringTok{\textquotesingle{}undefined\textquotesingle{}}\NormalTok{)\{}
          \CommentTok{\# Send drawn points off to server}
          \FunctionTok{Shiny.onInputChange}\NormalTok{(}
\NormalTok{            state.shiny\_message\_loc,}
            \FunctionTok{state.drawable\_points.map}\NormalTok{(}\AttributeTok{d =}\SpecialCharTok{\textgreater{}}\NormalTok{ d.y)}
\NormalTok{          );}
\NormalTok{        \} }\ControlFlowTok{else}\NormalTok{ \{}
          \FunctionTok{console.log}\NormalTok{(}\StringTok{\textasciigrave{}}\AttributeTok{Sending message to $\{state.shiny\_message\_loc\}}\StringTok{\textasciigrave{}}\NormalTok{);}
\NormalTok{        \}}
\NormalTok{      \}}
\NormalTok{    \}}
\NormalTok{  \};}
  
  \FunctionTok{setup\_draw\_watcher}\NormalTok{(state.svg, scales, on\_drag, on\_end);}
  
  \CommentTok{\# Do we have a title?}
    \ControlFlowTok{if}\NormalTok{(state.title)\{}
      \FunctionTok{state.svg.append}\NormalTok{(}\StringTok{\textquotesingle{}text\textquotesingle{}}\NormalTok{)}
      \FunctionTok{.at}\NormalTok{(\{}
\NormalTok{        y}\SpecialCharTok{:} \SpecialCharTok{{-}}\NormalTok{margin.top}\SpecialCharTok{/}\DecValTok{2}\NormalTok{,}
\NormalTok{        dominantBaseline}\SpecialCharTok{:} \StringTok{\textquotesingle{}middle\textquotesingle{}}\NormalTok{,}
\NormalTok{        fontSize}\SpecialCharTok{:} \StringTok{\textquotesingle{}1.5rem\textquotesingle{}}\NormalTok{,}
\NormalTok{      \})}
      \FunctionTok{.style}\NormalTok{(}\StringTok{\textquotesingle{}font{-}family\textquotesingle{}}\NormalTok{, system\_font)}
      \FunctionTok{.text}\NormalTok{(state.title);}
\NormalTok{    \}}
\NormalTok{\}}

\ControlFlowTok{function} \FunctionTok{setup\_drawable\_points}\NormalTok{(\{line\_data, free\_draw, draw\_start\})\{}
  \ControlFlowTok{if}\NormalTok{(free\_draw)\{}
\NormalTok{    return }\FunctionTok{line\_data.map}\NormalTok{(}\AttributeTok{d =}\SpecialCharTok{\textgreater{}}\NormalTok{ (\{x}\SpecialCharTok{:}\NormalTok{ d.x, y}\SpecialCharTok{:}\NormalTok{ null\}));}
\NormalTok{  \} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{    return line\_data}
    \FunctionTok{.filter}\NormalTok{(}\AttributeTok{d =}\SpecialCharTok{\textgreater{}}\NormalTok{ d.x }\SpecialCharTok{\textgreater{}=}\NormalTok{ draw\_start)}
    \FunctionTok{.map}\NormalTok{((d,i) }\OtherTok{=}\ErrorTok{\textgreater{}}\NormalTok{ (\{}
\NormalTok{      x}\SpecialCharTok{:}\NormalTok{ d.x,}
\NormalTok{      y}\SpecialCharTok{:}\NormalTok{ i }\SpecialCharTok{==}\ErrorTok{=} \DecValTok{0}\NormalTok{ ? d.y}\SpecialCharTok{:}\NormalTok{ null}
\NormalTok{    \}));}
\NormalTok{  \}}
\NormalTok{\}}

\ControlFlowTok{function} \FunctionTok{get\_user\_line\_status}\NormalTok{(\{drawable\_points, free\_draw\})\{}
\NormalTok{  const num\_points }\OtherTok{=}\NormalTok{ drawable\_points.length;}
\NormalTok{  const num\_filled }\OtherTok{=} \FunctionTok{d3.sum}\NormalTok{(}\FunctionTok{drawable\_points.map}\NormalTok{(}\AttributeTok{d =}\SpecialCharTok{\textgreater{}}\NormalTok{ d.y }\SpecialCharTok{==}\ErrorTok{=}\NormalTok{ null ? }\DecValTok{0}\SpecialCharTok{:} \DecValTok{1}\NormalTok{));}
\NormalTok{  const num\_starting\_filled }\OtherTok{=}\NormalTok{ free\_draw ? }\DecValTok{0}\SpecialCharTok{:} \DecValTok{1}\NormalTok{;}
  \ControlFlowTok{if}\NormalTok{(num\_filled }\SpecialCharTok{==}\ErrorTok{=}\NormalTok{ num\_starting\_filled)\{}
\NormalTok{    return }\StringTok{\textquotesingle{}unstarted\textquotesingle{}}\NormalTok{;}
\NormalTok{  \} }\ControlFlowTok{else} \ControlFlowTok{if}\NormalTok{(num\_points }\SpecialCharTok{==}\ErrorTok{=}\NormalTok{ num\_filled)\{}
\NormalTok{    return }\StringTok{\textquotesingle{}done\textquotesingle{}}\NormalTok{;}
\NormalTok{  \} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{    return }\StringTok{\textquotesingle{}in\_progress\textquotesingle{}}\NormalTok{;}
\NormalTok{  \}}
\NormalTok{\}}

\CommentTok{\# Draw visable portion of line}
\ControlFlowTok{function} \FunctionTok{draw\_true\_line}\NormalTok{(\{svg, line\_data, draw\_start\}, scales)\{}
\NormalTok{  var df }\OtherTok{=} \FunctionTok{line\_data.filter}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(d)\{ return d.x}\SpecialCharTok{\textless{}=}\NormalTok{draw\_start\})}
  \FunctionTok{state.svg.selectAppend}\NormalTok{(}\StringTok{"path.shown\_line"}\NormalTok{)}
  \FunctionTok{.datum}\NormalTok{(df)}
  \FunctionTok{.at}\NormalTok{(default\_line\_attrs)}
  \FunctionTok{.attr}\NormalTok{(}\StringTok{"d"}\NormalTok{, scales.line\_drawer);}
\NormalTok{\}}

\ControlFlowTok{function} \FunctionTok{draw\_points}\NormalTok{(\{svg, point\_data, points\_end, points\}, scales)\{}
    \ControlFlowTok{if}\NormalTok{(points }\SpecialCharTok{==} \StringTok{"partial"}\NormalTok{)\{}
\NormalTok{      var df }\OtherTok{=} \FunctionTok{point\_data.filter}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(d)\{}\FunctionTok{return}\NormalTok{ (d.x}\SpecialCharTok{\textless{}=}\NormalTok{points\_end)\});}
\NormalTok{    \} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{      var df }\OtherTok{=}\NormalTok{ point\_data;}
\NormalTok{    \}}
\NormalTok{  const dots }\OtherTok{=} \FunctionTok{state.svg.selectAll}\NormalTok{(}\StringTok{"circle"}\NormalTok{)}\FunctionTok{.data}\NormalTok{(df)}
\NormalTok{  dots}
    \FunctionTok{.enter}\NormalTok{()}\FunctionTok{.append}\NormalTok{(}\StringTok{"circle"}\NormalTok{)}
    \FunctionTok{.merge}\NormalTok{(dots)}
    \FunctionTok{.attr}\NormalTok{(}\StringTok{"cx"}\NormalTok{, }\AttributeTok{d =}\SpecialCharTok{\textgreater{}} \FunctionTok{scales.x}\NormalTok{(d.x))}
    \FunctionTok{.attr}\NormalTok{(}\StringTok{"cy"}\NormalTok{, }\AttributeTok{d =}\SpecialCharTok{\textgreater{}} \FunctionTok{scales.y}\NormalTok{(d.y))}
    \FunctionTok{.attr}\NormalTok{(}\StringTok{"r"}\NormalTok{, }\DecValTok{2}\NormalTok{)}
    \FunctionTok{.style}\NormalTok{(}\StringTok{"fill"}\NormalTok{, }\StringTok{"black"}\NormalTok{)}
    \FunctionTok{.style}\NormalTok{(}\StringTok{"opacity"}\NormalTok{, }\FloatTok{0.8}\NormalTok{)}
    \FunctionTok{.style}\NormalTok{(}\StringTok{"stroke"}\NormalTok{, }\StringTok{"black"}\NormalTok{)}
\NormalTok{\}}

\ControlFlowTok{function} \FunctionTok{draw\_rectangle}\NormalTok{(\{svg, drawable\_points, line\_data, draw\_start, width, height, free\_draw, x\_by\}, scales)\{}
    \ControlFlowTok{if}\NormalTok{(}\FunctionTok{get\_user\_line\_status}\NormalTok{(state) }\SpecialCharTok{==}\ErrorTok{=} \StringTok{\textquotesingle{}unstarted\textquotesingle{}}\NormalTok{)\{}
      \ControlFlowTok{if}\NormalTok{(free\_draw)\{}
\NormalTok{         var xmin }\OtherTok{=}\NormalTok{ line\_data[}\DecValTok{0}\NormalTok{].x}
\NormalTok{         var len  }\OtherTok{=}\NormalTok{ line\_data.length }\SpecialCharTok{{-}} \DecValTok{1}
\NormalTok{         var xmax }\OtherTok{=}\NormalTok{ line\_data[len].x}
\NormalTok{         var drawSpace\_start }\OtherTok{=} \FunctionTok{scales.x}\NormalTok{(xmin)}
\NormalTok{         var drawSpace\_end   }\OtherTok{=} \FunctionTok{scales.x}\NormalTok{(xmax)}
\NormalTok{       \} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{         var drawSpace\_start }\OtherTok{=} \FunctionTok{scales.x}\NormalTok{(draw\_start)}
\NormalTok{         var drawSpace\_end   }\OtherTok{=}\NormalTok{ state.w}
\NormalTok{       \}}
\NormalTok{    \} }\ControlFlowTok{else}\NormalTok{ \{}
      \ControlFlowTok{if}\NormalTok{(}\FunctionTok{get\_user\_line\_status}\NormalTok{(state) }\SpecialCharTok{==}\ErrorTok{=} \StringTok{\textquotesingle{}done\textquotesingle{}}\NormalTok{)\{}
\NormalTok{        var drawSpace\_start }\OtherTok{=} \FunctionTok{scales.x}\NormalTok{(}\DecValTok{100}\NormalTok{)}
\NormalTok{        var drawSpace\_end }\OtherTok{=} \FunctionTok{scales.x}\NormalTok{(}\DecValTok{110}\NormalTok{)}
\NormalTok{      \} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{        var df }\OtherTok{=} \FunctionTok{drawable\_points.filter}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(d)\{}\FunctionTok{return}\NormalTok{ (d.y }\SpecialCharTok{==}\ErrorTok{=}\NormalTok{ null)\});}
\NormalTok{        var xmin }\OtherTok{=}\NormalTok{ df[}\DecValTok{0}\NormalTok{].x }\SpecialCharTok{{-}}\NormalTok{ x\_by;}
\NormalTok{        var len  }\OtherTok{=}\NormalTok{ line\_data.length }\SpecialCharTok{{-}} \DecValTok{1}
\NormalTok{        var xmax }\OtherTok{=}\NormalTok{ line\_data[len].x}
\NormalTok{        var drawSpace\_start }\OtherTok{=} \FunctionTok{scales.x}\NormalTok{(xmin)}
\NormalTok{        var drawSpace\_end   }\OtherTok{=} \FunctionTok{scales.x}\NormalTok{(xmax)}
\NormalTok{      \}}
\NormalTok{    \}}
\NormalTok{    const draw\_region }\OtherTok{=} \FunctionTok{state.svg.selectAppend}\NormalTok{(}\StringTok{"rect"}\NormalTok{);}
\NormalTok{    draw\_region}
      \FunctionTok{.attr}\NormalTok{(}\StringTok{"x"}\NormalTok{, drawSpace\_start)}
      \FunctionTok{.attr}\NormalTok{(}\StringTok{"width"}\NormalTok{,drawSpace\_end }\SpecialCharTok{{-}}\NormalTok{ drawSpace\_start)}
      \FunctionTok{.attr}\NormalTok{(}\StringTok{"y"}\NormalTok{, }\DecValTok{0}\NormalTok{)}
      \FunctionTok{.attr}\NormalTok{(}\StringTok{"height"}\NormalTok{, state.h)}
      \SpecialCharTok{/}\ErrorTok{/}\FunctionTok{.style}\NormalTok{(}\StringTok{"fill"}\NormalTok{, }\StringTok{"\#e0f3f3"}\NormalTok{)}
      \FunctionTok{.style}\NormalTok{(}\StringTok{"fill{-}opacity"}\NormalTok{, }\FloatTok{0.4}\NormalTok{)}
      \FunctionTok{.style}\NormalTok{(}\StringTok{"fill"}\NormalTok{, }\StringTok{"rgba(255,255,0,.8)"}\NormalTok{)}
\NormalTok{\}}

\ControlFlowTok{function} \FunctionTok{draw\_user\_line}\NormalTok{(state, scales)\{}
\NormalTok{  const \{svg, drawable\_points, drawn\_line\_color\} }\OtherTok{=}\NormalTok{ state;}
\NormalTok{  const user\_line }\OtherTok{=} \FunctionTok{state.svg.selectAppend}\NormalTok{(}\StringTok{"path.user\_line"}\NormalTok{);}
  \CommentTok{\# Only draw line if there\textquotesingle{}s something to draw.}
  \ControlFlowTok{if}\NormalTok{(}\FunctionTok{get\_user\_line\_status}\NormalTok{(state) }\SpecialCharTok{==}\ErrorTok{=} \StringTok{\textquotesingle{}unstarted\textquotesingle{}}\NormalTok{)\{}
    \FunctionTok{user\_line.remove}\NormalTok{();}
\NormalTok{    return;}
\NormalTok{  \}}
  \CommentTok{\# Draws the points the user is drawing with their mouse}
\NormalTok{  user\_line}
      \FunctionTok{.datum}\NormalTok{(drawable\_points)}
      \FunctionTok{.at}\NormalTok{(default\_line\_attrs)}
      \FunctionTok{.attr}\NormalTok{(}\StringTok{\textquotesingle{}stroke\textquotesingle{}}\NormalTok{, drawn\_line\_color)}
      \FunctionTok{.attr}\NormalTok{(}\StringTok{"d"}\NormalTok{, scales.line\_drawer)}
      \FunctionTok{.style}\NormalTok{(}\StringTok{"stroke{-}dasharray"}\NormalTok{, (}\StringTok{"1, 7"}\NormalTok{));}
\NormalTok{\}}

\ControlFlowTok{function} \FunctionTok{draw\_finished\_line}\NormalTok{(\{svg, line\_data, draw\_start, free\_draw\}, scales)\{}
  \ControlFlowTok{if}\NormalTok{(}\SpecialCharTok{!}\NormalTok{free\_draw)\{}
\NormalTok{    var df }\OtherTok{=} \FunctionTok{line\_data.filter}\NormalTok{(}\ControlFlowTok{function}\NormalTok{(d)\{ return d.x }\SpecialCharTok{\textgreater{}=}\NormalTok{ draw\_start\})}
\NormalTok{  \} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{    var df }\OtherTok{=}\NormalTok{ line\_data}
\NormalTok{  \}}
\NormalTok{  const finished\_line }\OtherTok{=} \FunctionTok{state.svg.selectAppend}\NormalTok{(}\StringTok{"path.finished\_line"}\NormalTok{)}
    \CommentTok{\# Only draw line if there\textquotesingle{}s something to draw.}
  \ControlFlowTok{if}\NormalTok{(}\FunctionTok{get\_user\_line\_status}\NormalTok{(state) }\SpecialCharTok{==}\ErrorTok{=} \StringTok{\textquotesingle{}unstarted\textquotesingle{}}\NormalTok{)\{}
    \FunctionTok{finished\_line.remove}\NormalTok{();}
\NormalTok{    return;}
\NormalTok{  \}}
\NormalTok{  finished\_line}
  \FunctionTok{.datum}\NormalTok{(df)}
  \FunctionTok{.at}\NormalTok{(default\_line\_attrs)}
  \FunctionTok{.attr}\NormalTok{(}\StringTok{"d"}\NormalTok{, scales.line\_drawer)}
  \FunctionTok{.attr}\NormalTok{(}\StringTok{"opacity"}\NormalTok{, }\FloatTok{0.5}\NormalTok{)}
\NormalTok{\}}

\CommentTok{\# from state we need drawable\_points}
\ControlFlowTok{function} \FunctionTok{fill\_in\_closest\_point}\NormalTok{(\{drawable\_points, pin\_start, free\_draw\}, drag\_x, drag\_y)\{}
  \CommentTok{\# find closest point on data to draw}
\NormalTok{  let last\_dist }\OtherTok{=}\NormalTok{ Infinity;}
\NormalTok{  let current\_dist;}
  \CommentTok{\# If nothing triggers break statement than closest point is last point}
\NormalTok{  let closest\_index }\OtherTok{=}\NormalTok{ drawable\_points.length }\SpecialCharTok{{-}} \DecValTok{1}\NormalTok{;}
\NormalTok{  const starting\_index }\OtherTok{=}\NormalTok{ free\_draw ? }\DecValTok{0} \SpecialCharTok{:}\NormalTok{ (pin\_start ? }\DecValTok{1}\SpecialCharTok{:} \DecValTok{0}\NormalTok{);}
  \CommentTok{\# for loop to check where closest point to where I am}
  \ControlFlowTok{for}\NormalTok{(}\AttributeTok{i =}\NormalTok{ starting\_index; i }\SpecialCharTok{\textless{}}\NormalTok{ drawable\_points.length; i}\SpecialCharTok{++}\NormalTok{)\{}
\NormalTok{    current\_dist }\OtherTok{=} \FunctionTok{Math.abs}\NormalTok{(drawable\_points[i].x }\SpecialCharTok{{-}}\NormalTok{ drag\_x);}
    \CommentTok{\# If distances start going up we\textquotesingle{}ve passed the closest point}
\ControlFlowTok{if}\NormalTok{(last\_dist }\SpecialCharTok{{-}}\NormalTok{ current\_dist }\SpecialCharTok{\textless{}} \DecValTok{0}\NormalTok{) \{}
\NormalTok{  closest\_index }\OtherTok{=}\NormalTok{ i }\SpecialCharTok{{-}} \DecValTok{1}\NormalTok{;}
  \ControlFlowTok{break}\NormalTok{;}
\NormalTok{\}}
\NormalTok{last\_dist }\OtherTok{=}\NormalTok{ current\_dist;}
\NormalTok{\}}

\NormalTok{drawable\_points[closest\_index].y }\OtherTok{=}\NormalTok{ drag\_y;}
\NormalTok{\}}

\ControlFlowTok{function} \FunctionTok{setup\_draw\_watcher}\NormalTok{(svg, scales, on\_drag, on\_end)\{}
  \FunctionTok{svg.selectAppend}\NormalTok{(}\StringTok{\textquotesingle{}rect.drag\_watcher\textquotesingle{}}\NormalTok{)}
  \FunctionTok{.at}\NormalTok{(\{}
\NormalTok{    height}\SpecialCharTok{:} \FunctionTok{scales.y.range}\NormalTok{()[}\DecValTok{0}\NormalTok{],}
\NormalTok{    width}\SpecialCharTok{:} \FunctionTok{scales.x.range}\NormalTok{()[}\DecValTok{1}\NormalTok{],}
\NormalTok{    fill}\SpecialCharTok{:} \StringTok{\textquotesingle{}grey\textquotesingle{}}\NormalTok{,}
\NormalTok{    fillOpacity}\SpecialCharTok{:} \DecValTok{0}\NormalTok{,}
\NormalTok{  \})}
  \FunctionTok{.call}\NormalTok{(}
    \FunctionTok{d3.drag}\NormalTok{()}
    \FunctionTok{.on}\NormalTok{(}\StringTok{"drag"}\NormalTok{, on\_drag)}
    \FunctionTok{.on}\NormalTok{(}\StringTok{"end"}\NormalTok{, on\_end)}
\NormalTok{  );}
\NormalTok{\}}

\ControlFlowTok{function} \FunctionTok{add\_axis\_label}\NormalTok{(label, }\AttributeTok{y\_axis =}\NormalTok{ true)\{}
\NormalTok{  const bump\_axis }\OtherTok{=}\NormalTok{ y\_axis ? }\StringTok{\textquotesingle{}x\textquotesingle{}}\SpecialCharTok{:} \StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{;}
\NormalTok{  const axis\_label\_style }\OtherTok{=}\NormalTok{ \{}
\NormalTok{    [bump\_axis]}\SpecialCharTok{:}\NormalTok{ bump\_axis }\SpecialCharTok{==} \StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{ ? }\DecValTok{3}\SpecialCharTok{:} \SpecialCharTok{{-}}\DecValTok{2}\NormalTok{,}
\NormalTok{    textAnchor}\SpecialCharTok{:} \StringTok{\textquotesingle{}end\textquotesingle{}}\NormalTok{,}
\NormalTok{    fontWeight}\SpecialCharTok{:} \StringTok{\textquotesingle{}500\textquotesingle{}}\NormalTok{,}
\NormalTok{    fontSize}\SpecialCharTok{:} \StringTok{\textquotesingle{}0.9rem\textquotesingle{}}\NormalTok{,}
\NormalTok{  \};}
\NormalTok{  return g }\OtherTok{=}\ErrorTok{\textgreater{}}\NormalTok{ \{}
\NormalTok{    let last\_tick }\OtherTok{=} \FunctionTok{g.select}\NormalTok{(}\StringTok{".tick:last{-}of{-}type"}\NormalTok{);}
\NormalTok{    const no\_ticks }\OtherTok{=} \FunctionTok{last\_tick.empty}\NormalTok{();}
    \ControlFlowTok{if}\NormalTok{(no\_ticks)\{}
\NormalTok{      last\_tick }\OtherTok{=} \FunctionTok{g.append}\NormalTok{(}\StringTok{\textquotesingle{}g\textquotesingle{}}\NormalTok{)}
      \FunctionTok{.attr}\NormalTok{(}\StringTok{\textquotesingle{}class\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}tick\textquotesingle{}}\NormalTok{);}
\NormalTok{    \}}
    \FunctionTok{last\_tick.select}\NormalTok{(}\StringTok{"line"}\NormalTok{)}\FunctionTok{.remove}\NormalTok{();}
    \FunctionTok{last\_tick.selectAppend}\NormalTok{(}\StringTok{"text"}\NormalTok{)}
    \FunctionTok{.at}\NormalTok{(axis\_label\_style)}
    \FunctionTok{.html}\NormalTok{(label);}
\NormalTok{  \};}
\NormalTok{\}}

\CommentTok{\# Setup scales for visualization}
\ControlFlowTok{function} \FunctionTok{setup\_scales}\NormalTok{(state)\{}
  \CommentTok{\# multi{-}assign: x\_range, etc. coming from options}
\NormalTok{  const \{w, h, line\_data, x\_range, y\_range, x\_name, y\_name, linear\} }\OtherTok{=}\NormalTok{ state;}
  \CommentTok{\# convert x from data scale to pixle scale}
\NormalTok{  const x }\OtherTok{=} \FunctionTok{d3.scaleLinear}\NormalTok{()}
  \FunctionTok{.domain}\NormalTok{(x\_range }\SpecialCharTok{||} \FunctionTok{d3.extent}\NormalTok{(line\_data, }\AttributeTok{d =}\SpecialCharTok{\textgreater{}}\NormalTok{ d.x))}
  \FunctionTok{.range}\NormalTok{([}\DecValTok{0}\NormalTok{, w]);}
  \SpecialCharTok{/}\ErrorTok{/}\FunctionTok{console.log}\NormalTok{(linear);}
  \ControlFlowTok{if}\NormalTok{ (linear }\SpecialCharTok{==} \StringTok{\textquotesingle{}true\textquotesingle{}}\NormalTok{) \{}
    \SpecialCharTok{/}\ErrorTok{/}\FunctionTok{console.log}\NormalTok{(}\StringTok{\textquotesingle{}in linear block\textquotesingle{}}\NormalTok{);}
    \CommentTok{\# converts from data linear scale to pixle scale}
\NormalTok{    var y }\OtherTok{=} \FunctionTok{d3.scaleLinear}\NormalTok{()}
    \FunctionTok{.domain}\NormalTok{(y\_range }\SpecialCharTok{||} \FunctionTok{d3.extent}\NormalTok{(line\_data, }\AttributeTok{d =}\SpecialCharTok{\textgreater{}}\NormalTok{ d.y))}
    \FunctionTok{.range}\NormalTok{([h, }\DecValTok{0}\NormalTok{]);}
\NormalTok{  \} }\ControlFlowTok{else}\NormalTok{ \{}
    \SpecialCharTok{/}\ErrorTok{/}\FunctionTok{console.log}\NormalTok{(}\StringTok{\textquotesingle{}in log block\textquotesingle{}}\NormalTok{);}
    \CommentTok{\# converts from data log scale to pixle scale}
\NormalTok{    var y }\OtherTok{=} \FunctionTok{d3.scaleLog}\NormalTok{()}
    \FunctionTok{.domain}\NormalTok{(y\_range }\SpecialCharTok{||} \FunctionTok{d3.extent}\NormalTok{(line\_data, }\AttributeTok{d =}\SpecialCharTok{\textgreater{}}\NormalTok{ d.y))}
    \FunctionTok{.range}\NormalTok{([h, }\DecValTok{0}\NormalTok{])}\FunctionTok{.base}\NormalTok{(}\DecValTok{10}\NormalTok{);}
\NormalTok{  \}}
  
\NormalTok{  const xAxis }\OtherTok{=} \FunctionTok{d3.axisBottom}\NormalTok{()}\FunctionTok{.scale}\NormalTok{(x)}\FunctionTok{.tickSizeOuter}\NormalTok{(}\DecValTok{0}\NormalTok{);}
\NormalTok{  const yAxis }\OtherTok{=} \FunctionTok{d3.axisLeft}\NormalTok{()}\FunctionTok{.scale}\NormalTok{(y)}\FunctionTok{.tickFormat}\NormalTok{(}\FunctionTok{d3.format}\NormalTok{(}\StringTok{".4"}\NormalTok{))}\FunctionTok{.tickSizeOuter}\NormalTok{(}\DecValTok{0}\NormalTok{);}
\NormalTok{  const xAxisGrid }\OtherTok{=} \FunctionTok{d3.axisBottom}\NormalTok{()}\FunctionTok{.scale}\NormalTok{(x)}\FunctionTok{.tickSize}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{h)}\FunctionTok{.tickFormat}\NormalTok{(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{);}
\NormalTok{  const yAxisGrid }\OtherTok{=} \FunctionTok{d3.axisLeft}\NormalTok{()}\FunctionTok{.scale}\NormalTok{(y)}\FunctionTok{.tickSize}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{w)}\FunctionTok{.tickFormat}\NormalTok{(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{);}
  
  \FunctionTok{state.svg.selectAll}\NormalTok{(}\StringTok{"g.x\_grid"}\NormalTok{)}\FunctionTok{.remove}\NormalTok{()}
  \FunctionTok{state.svg.selectAll}\NormalTok{(}\StringTok{"g.y\_grid"}\NormalTok{)}\FunctionTok{.remove}\NormalTok{()}
  \CommentTok{\# could call axis{-}grid "fred"}
  \FunctionTok{state.svg.selectAll}\NormalTok{(}\StringTok{"g.axis{-}grid"}\NormalTok{)}\FunctionTok{.remove}\NormalTok{()}
  
  \FunctionTok{state.svg.selectAll}\NormalTok{(}\StringTok{"path.shown\_line"}\NormalTok{)}\FunctionTok{.remove}\NormalTok{()}
  \FunctionTok{state.svg.selectAll}\NormalTok{(}\StringTok{"circle"}\NormalTok{)}\FunctionTok{.remove}\NormalTok{()}
  
  \FunctionTok{state.svg.selectAppend}\NormalTok{(}\StringTok{"g.x\_grid"}\NormalTok{)}
  \FunctionTok{.attr}\NormalTok{(}\StringTok{\textquotesingle{}class\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}x axis{-}grid\textquotesingle{}}\NormalTok{)}
  \FunctionTok{.translate}\NormalTok{([}\DecValTok{0}\NormalTok{,h])}
  \FunctionTok{.call}\NormalTok{(xAxisGrid);}
  
  \FunctionTok{state.svg.selectAppend}\NormalTok{(}\StringTok{"g.y\_grid"}\NormalTok{)}
  \FunctionTok{.attr}\NormalTok{(}\StringTok{\textquotesingle{}class\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}y axis{-}grid\textquotesingle{}}\NormalTok{)}
  \FunctionTok{.call}\NormalTok{(yAxisGrid);}
  
  \FunctionTok{state.svg.selectAll}\NormalTok{(}\StringTok{".axis{-}grid .tick"}\NormalTok{)}
  \FunctionTok{.style}\NormalTok{(}\StringTok{"stroke"}\NormalTok{, }\StringTok{"light{-}grey"}\NormalTok{)}
  \FunctionTok{.style}\NormalTok{(}\StringTok{"opacity"}\NormalTok{, }\StringTok{".3"}\NormalTok{);}
  
  \FunctionTok{state.svg.selectAppend}\NormalTok{(}\StringTok{"g.x\_axis"}\NormalTok{)}
  \FunctionTok{.translate}\NormalTok{([}\DecValTok{0}\NormalTok{,h])}
  \FunctionTok{.call}\NormalTok{(xAxis);}
  
  \FunctionTok{state.svg.selectAppend}\NormalTok{(}\StringTok{"g.y\_axis"}\NormalTok{)}
  \FunctionTok{.call}\NormalTok{(yAxis);}
  
\NormalTok{  const line\_drawer }\OtherTok{=} \FunctionTok{d3.line}\NormalTok{()}
  \FunctionTok{.defined}\NormalTok{(}\AttributeTok{d =}\SpecialCharTok{\textgreater{}}\NormalTok{ d.y }\SpecialCharTok{!=}\ErrorTok{=}\NormalTok{ null)}
  \FunctionTok{.x}\NormalTok{(}\AttributeTok{d =}\SpecialCharTok{\textgreater{}} \FunctionTok{x}\NormalTok{(d.x))}
  \FunctionTok{.y}\NormalTok{(}\AttributeTok{d =}\SpecialCharTok{\textgreater{}} \FunctionTok{y}\NormalTok{(d.y));}
  
\NormalTok{  return \{}
\NormalTok{    x,}
\NormalTok{    y,}
\NormalTok{    line\_drawer,}
\NormalTok{  \};}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\backmatter

\hypertarget{references}{%
\chapter*{References}\label{references}}
\addcontentsline{toc}{chapter}{References}

\noindent

\setlength{\parindent}{-0.20in}
\setlength{\leftskip}{0.20in}
\setlength{\parskip}{8pt}

\hypertarget{refs}{}
\begin{CSLReferences}{1}{0}
\leavevmode\hypertarget{ref-aisch_cox_quealy_2015}{}%
Aisch, G., Cox, A., \& Quealy, K. (2015, May). You draw it: How family income predicts children's college chances. \emph{The New York Times}. The New York Times. Retrieved from \url{https://www.nytimes.com/interactive/2015/05/28/upshot/you-draw-it-how-family-income-affects-childrens-college-chances.html}

\leavevmode\hypertarget{ref-amer2005bias}{}%
Amer, T. (2005). Bias due to visual illusion in the graphical presentation of accounting information. \emph{Journal of Information Systems}, \emph{19}(1), 1--18.

\leavevmode\hypertarget{ref-lme4}{}%
Bates, D., Mächler, M., Bolker, B., \& Walker, S. (2015). Fitting linear mixed-effects models using {lme4}. \emph{Journal of Statistical Software}, \emph{67}(1), 1--48. http://doi.org/\href{https://doi.org/10.18637/jss.v067.i01}{10.18637/jss.v067.i01}

\leavevmode\hypertarget{ref-bavel_using_2020}{}%
Bavel, J. J. V., Baicker, K., Boggio, P. S., Capraro, V., Cichocka, A., Cikara, M., \ldots{} Willer, R. (2020). Using social and behavioural science to support {COVID}-19 pandemic response. \emph{Nature Human Behaviour}, \emph{4}(5), 460--471. http://doi.org/\href{https://doi.org/10.1038/s41562-020-0884-z}{10.1038/s41562-020-0884-z}

\leavevmode\hypertarget{ref-best_perception_2007}{}%
Best, L. A., Smith, L. D., \& Stubbs, D. A. (2007). Perception of {Linear} and {Nonlinear} {Trends}: {Using} {Slope} and {Curvature} {Information} to {Make} {Trend} {Discriminations}. \emph{Perceptual and Motor Skills}, \emph{104}(3), 707--721. http://doi.org/\href{https://doi.org/10.2466/pms.104.3.707-721}{10.2466/pms.104.3.707-721}

\leavevmode\hypertarget{ref-broersma1985graphical}{}%
Broersma, H., \& Molenaar, I. (1985). Graphical perception of distributional aspects of data. \emph{Computational Statistics Quarterly}, \emph{2}(1), 53--72.

\leavevmode\hypertarget{ref-buchanan_park_pearce_2017}{}%
Buchanan, L., Park, H., \& Pearce, A. (2017, January). You draw it: What got better or worse during obama's presidency. \emph{The New York Times}. The New York Times. Retrieved from \url{https://www.nytimes.com/interactive/2017/01/15/us/politics/you-draw-obama-legacy.html}

\leavevmode\hypertarget{ref-buja_statistical_2009}{}%
Buja, A., Cook, D., Hofmann, H., Lawrence, M., Lee, E.-K., Swayne, D. F., \& Wickham, H. (2009). Statistical inference for exploratory data analysis and model diagnostics. \emph{Philosophical Transactions of the Royal Society A: Mathematical, Physical and Engineering Sciences}, \emph{367}(1906), 4361--4383. http://doi.org/\href{https://doi.org/10.1098/rsta.2009.0120}{10.1098/rsta.2009.0120}

\leavevmode\hypertarget{ref-burnmurdoch_2020}{}%
Burn-Murdoch, J., Nevitt, C., Tilford, C., Rininsland, A., Kao, J. S., Elliott, O., \ldots{} Stabe, M. (2020). Coronavirus tracked: Has the epidemic peaked near you? \emph{Coronavirus chart: see how your country compares}. Financial Times. Retrieved from \url{https://ig.ft.com/coronavirus-chart/?areas=eur}

\leavevmode\hypertarget{ref-cleveland_graphical_1984}{}%
Cleveland, W. S., \& McGill, R. (1984). Graphical {Perception}: {Theory}, {Experimentation}, and {Application} to the {Development} of {Graphical} {Methods}. Retrieved from \url{http://euclid.psych.yorku.ca/www/psy6135/papers/ClevelandMcGill1984.pdf}

\leavevmode\hypertarget{ref-cleveland_graphical_1985}{}%
Cleveland, W. S., \& McGill, R. (1985). Graphical {Perception} and {Graphical} {Methods} for {Analyzing} {Scientific} {Data}. \emph{Science, New Series}, \emph{229}(4716), 828--833. Retrieved from \url{http://www.jstor.org/stable/1695272}

\leavevmode\hypertarget{ref-croxton1932graphic}{}%
Croxton, F. E., \& Stein, H. (1932). Graphic comparisons by bars, squares, circles, and cubes. \emph{Journal of the American Statistical Association}, \emph{27}(177), 54--60.

\leavevmode\hypertarget{ref-croxton1927bar}{}%
Croxton, F. E., \& Stryker, R. E. (1927). Bar charts versus circle diagrams. \emph{Journal of the American Statistical Association}, \emph{22}(160), 473--482.

\leavevmode\hypertarget{ref-dehaene2008log}{}%
Dehaene, S., Izard, V., Spelke, E., \& Pica, P. (2008). Log or linear? Distinct intuitions of the number scale in western and amazonian indigene cultures. \emph{Science}, \emph{320}(5880), 1217--1220.

\leavevmode\hypertarget{ref-dunn1988framed}{}%
Dunn, R. (1988). Framed rectangle charts or statistical maps with shading: An experiment in graphical perception. \emph{The American Statistician}, \emph{42}(2), 123--129.

\leavevmode\hypertarget{ref-eells1926relative}{}%
Eells, W. C. (1926). The relative merits of circles and bars for representing component parts. \emph{Journal of the American Statistical Association}, \emph{21}(154), 119--132.

\leavevmode\hypertarget{ref-fagen-ulmschneider_2020}{}%
Fagen-Ulmschneider, W. (2020). 91-DIVOC. \emph{An interactive visualization of COVID-19}. University of Illinois. Retrieved from \url{https://91-divoc.com/pages/covid-visualization/}

\leavevmode\hypertarget{ref-finney_subjective_1951}{}%
Finney, D. J. (1951). Subjective {Judgment} in {Statistical} {Analysis}: {An} {Experimental} {Study}. \emph{Journal of the Royal Statistical Society. Series B (Methodological)}, \emph{13}(2), 284--297. Retrieved from \url{https://www.jstor.org/stable/2984070}

\leavevmode\hypertarget{ref-gmbh_youve_2020}{}%
GmbH, D. (2020, July). You've informed the public with visualizations about the coronavirus. {Thank} you. \emph{Chartable}. Retrieved from \url{https://blog.datawrapper.de/datawrapper-effect-corona/index.html}

\leavevmode\hypertarget{ref-goldstein_sensation_2017}{}%
Goldstein, E. B., \& Brockmole, J. R. (2017). Sensation and {Perception}, 480.

\leavevmode\hypertarget{ref-gordon_statistician_2015}{}%
Gordon, I., \& Finch, S. (2015). Statistician {Heal} {Thyself}: {Have} {We} {Lost} the {Plot}? \emph{Journal of Computational and Graphical Statistics}, \emph{24}(4), 1210--1229. http://doi.org/\href{https://doi.org/10.1080/10618600.2014.989324}{10.1080/10618600.2014.989324}

\leavevmode\hypertarget{ref-green2009personal}{}%
Green, T. M., \& Fisher, B. (2009). The personal equation of complex individual cognition during visual interface interaction. In \emph{Workshop on human-computer interaction and visualization} (pp. 38--57). Springer.

\leavevmode\hypertarget{ref-haemer_presentation_1949}{}%
Haemer, K. W., \& Kelley, T. L. (1949). Presentation {Problems}: {Suiting} the {Chart} to the {Audience}: {Common} {Graphic} {Devices} {Classified} {According} to {Ease} of {Reading}. \emph{The American Statistician}, \emph{3}(5), 11--11. http://doi.org/\href{https://doi.org/10.1080/00031305.1949.10501608}{10.1080/00031305.1949.10501608}

\leavevmode\hypertarget{ref-heckler_student_2013}{}%
Heckler, A. F., Mikula, B., \& Rosenblatt, R. (2013). Student accuracy in reading logarithmic plots: {The} problem and how to fix it. In \emph{2013 {IEEE} {Frontiers} in {Education} {Conference} ({FIE})} (pp. 1066--1071). http://doi.org/\href{https://doi.org/10.1109/FIE.2013.6684990}{10.1109/FIE.2013.6684990}

\leavevmode\hypertarget{ref-hofmann_graphical_2012}{}%
Hofmann, H., Follett, L., Majumder, M., \& Cook, D. (2012). Graphical {Tests} for {Power} {Comparison} of {Competing} {Designs}. \emph{IEEE Transactions on Visualization and Computer Graphics}, \emph{18}(12), 2441--2448. http://doi.org/\href{https://doi.org/10.1109/TVCG.2012.230}{10.1109/TVCG.2012.230}

\leavevmode\hypertarget{ref-jones_polynomial_1977}{}%
Jones, G. V. (1977). Polynomial perception of exponential growth. \emph{Perception \& Psychophysics}, \emph{21}(2), 197--198. http://doi.org/\href{https://doi.org/10.3758/BF03198726}{10.3758/BF03198726}

\leavevmode\hypertarget{ref-katz_2017}{}%
Katz, J. (2017, April). You draw it: Just how bad is the drug overdose epidemic? \emph{The New York Times}. The New York Times. Retrieved from \url{https://www.nytimes.com/interactive/2017/04/14/upshot/drug-overdose-epidemic-you-draw-it.html}

\leavevmode\hypertarget{ref-emmeans}{}%
Lenth, R. V. (2021). \emph{Emmeans: Estimated marginal means, aka least-squares means}. Retrieved from \url{https://CRAN.R-project.org/package=emmeans}

\leavevmode\hypertarget{ref-lewandowsky_perception_1989}{}%
Lewandowsky, S., \& Spence, I. (1989). The {Perception} of {Statistical} {Graphs}. \emph{Sociological Methods \& Research}, \emph{18}(2-3), 200--242. http://doi.org/\href{https://doi.org/10.1177/0049124189018002002}{10.1177/0049124189018002002}

\leavevmode\hypertarget{ref-loy_variations_2016}{}%
Loy, A., Follett, L., \& Hofmann, H. (2016). Variations of \emph{q} -- \emph{q} {Plots}: {The} {Power} of {Our} {Eyes}! \emph{The American Statistician}, \emph{70}(2), 202--214. http://doi.org/\href{https://doi.org/10.1080/00031305.2015.1077728}{10.1080/00031305.2015.1077728}

\leavevmode\hypertarget{ref-loy_model_2017}{}%
Loy, A., Hofmann, H., \& Cook, D. (2017). Model {Choice} and {Diagnostics} for {Linear} {Mixed}-{Effects} {Models} {Using} {Statistics} on {Street} {Corners}. \emph{Journal of Computational and Graphical Statistics}, \emph{26}(3), 478--492. http://doi.org/\href{https://doi.org/10.1080/10618600.2017.1330207}{10.1080/10618600.2017.1330207}

\leavevmode\hypertarget{ref-r2d3}{}%
Luraschi, J., \& Allaire, J. (2018). \emph{r2d3: Interface to 'D3' visualizations}. Retrieved from \url{https://CRAN.R-project.org/package=r2d3}

\leavevmode\hypertarget{ref-mackinnon_feedback_1991}{}%
Mackinnon, A. J., \& Wearing, A. J. (1991). Feedback and the forecasting of exponential change. \emph{Acta Psychologica}, \emph{76}(2), 177--191. http://doi.org/\href{https://doi.org/10.1016/0001-6918(91)90045-2}{10.1016/0001-6918(91)90045-2}

\leavevmode\hypertarget{ref-majumder_validation_2013}{}%
Majumder, M., Hofmann, H., \& Cook, D. (2013). Validation of {Visual} {Statistical} {Inference}, {Applied} to {Linear} {Models}. \emph{Journal of the American Statistical Association}, \emph{108}(503), 942--956. http://doi.org/\href{https://doi.org/10.1080/01621459.2013.808157}{10.1080/01621459.2013.808157}

\leavevmode\hypertarget{ref-menge_logarithmic_2018}{}%
Menge, D. N. L., MacPherson, A. C., Bytnerowicz, T. A., Quebbeman, A. W., Schwartz, N. B., Taylor, B. N., \& Wolf, A. A. (2018). Logarithmic scales in ecological data presentation may cause misinterpretation. \emph{Nature Ecology \& Evolution}, \emph{2}(9), 1393--1402. http://doi.org/\href{https://doi.org/10.1038/s41559-018-0610-7}{10.1038/s41559-018-0610-7}

\leavevmode\hypertarget{ref-mosteller_eye_1981}{}%
Mosteller, F., Siegel, A. F., Trapido, E., \& Youtz, C. (1981). Eye {Fitting} {Straight} {Lines}. \emph{The American Statistician}, \emph{35}(3), 150--152. http://doi.org/\href{https://doi.org/10.1080/00031305.1981.10479335}{10.1080/00031305.1981.10479335}

\leavevmode\hypertarget{ref-munroe_2005}{}%
Munroe, R. (2005). Log scale. \emph{xkcd: A webcomic of romance, sarcasm, math, and language}. Creative Commons. Retrieved from \url{https://xkcd.com/1162/}

\leavevmode\hypertarget{ref-nieder2003coding}{}%
Nieder, A., \& Miller, E. K. (2003). Coding of cognitive magnitude: Compressed scaling of numerical information in the primate prefrontal cortex. \emph{Neuron}, \emph{37}(1), 149--157.

\leavevmode\hypertarget{ref-peterson1954accurately}{}%
Peterson, L. V., \& Schramm, W. (1954). How accurately are different kinds of graphs read? \emph{Audio Visual Communication Review}, 178--189.

\leavevmode\hypertarget{ref-romano_scale_2020}{}%
Romano, A., Sotis, C., Dominioni, G., \& Guidi, S. (2020). \emph{The {Scale} of {COVID}-19 {Graphs} {Affects} {Understanding}, {Attitudes}, and {Policy} {Preferences}} (\{SSRN\} \{Scholarly\} \{Paper\} No. ID 3588511). Rochester, NY: Social Science Research Network. Retrieved from \url{https://papers.ssrn.com/abstract=3588511}

\leavevmode\hypertarget{ref-shah1995conceptual}{}%
Shah, P., \& Carpenter, P. A. (1995). Conceptual limitations in comprehending line graphs. \emph{Journal of Experimental Psychology: General}, \emph{124}(1), 43.

\leavevmode\hypertarget{ref-shah1999graphs}{}%
Shah, P., Mayer, R. E., \& Hegarty, M. (1999). Graphs as aids to knowledge construction: Signaling techniques for guiding the process of graph comprehension. \emph{Journal of Educational Psychology}, \emph{91}(4), 690.

\leavevmode\hypertarget{ref-siegler_numerical_2017}{}%
Siegler, R. S., \& Braithwaite, D. W. (2017). Numerical {Development}. \emph{Annual Review of Psychology}, \emph{68}(1), 187--213. http://doi.org/\href{https://doi.org/10.1146/annurev-psych-010416-044101}{10.1146/annurev-psych-010416-044101}

\leavevmode\hypertarget{ref-spence_visual_1990}{}%
Spence, I. (1990). Visual psychophysics of simple graphical elements. \emph{Journal of Experimental Psychology: Human Perception and Performance}, \emph{16}(4), 683--692. http://doi.org/\href{https://doi.org/10.1037/0096-1523.16.4.683}{10.1037/0096-1523.16.4.683}

\leavevmode\hypertarget{ref-sun_framework_2012}{}%
Sun, J. Z., Wang, G. I., Goyal, V. K., \& Varshney, L. R. (2012). A framework for {Bayesian} optimality of psychophysical laws. \emph{Journal of Mathematical Psychology}, \emph{56}(6), 495--501. http://doi.org/\href{https://doi.org/10.1016/j.jmp.2012.08.002}{10.1016/j.jmp.2012.08.002}

\leavevmode\hypertarget{ref-tan1994human}{}%
Tan, J. K. (1994). Human processing of two-dimensional graphics: Information-volume concepts and effects in graph-task fit anchoring frameworks. \emph{International Journal of Human-Computer Interaction}, \emph{6}(4), 414--456.

\leavevmode\hypertarget{ref-teghtsoonian1965judgment}{}%
Teghtsoonian, M. (1965). The judgment of size. \emph{The American Journal of Psychology}, \emph{78}(3), 392--402.

\leavevmode\hypertarget{ref-timmers_inverse_1977}{}%
Timmers, H., \& Wagenaar, W. A. (1977). Inverse statistics and misperception of exponential growth. \emph{Perception \& Psychophysics}, \emph{21}(6), 558--562. http://doi.org/\href{https://doi.org/10.3758/BF03198737}{10.3758/BF03198737}

\leavevmode\hypertarget{ref-unwin_why_2020}{}%
Unwin, A. (2020). Why is {Data} {Visualization} {Important}? {What} is {Important} in {Data} {Visualization}? \emph{Harvard Data Science Review}. http://doi.org/\href{https://doi.org/10.1162/99608f92.8ae4d525}{10.1162/99608f92.8ae4d525}

\leavevmode\hypertarget{ref-uri_presentation_1948}{}%
Uri, G., \& Haemer, K. (1948). Presentation {Problems}: {Graphic} {Representation} for {Multiple} {Linear} {Correlation}. \emph{The American Statistician}, \emph{2}(6), 19--19. http://doi.org/\href{https://doi.org/10.1080/00031305.1948.10483416}{10.1080/00031305.1948.10483416}

\leavevmode\hypertarget{ref-vanderplas_testing_2020}{}%
Vanderplas, S., Cook, D., \& Hofmann, H. (2020). Testing {Statistical} {Charts}: {What} {Makes} a {Good} {Graph}? \emph{Annual Review of Statistics and Its Application}, \emph{7}(1), 61--88. http://doi.org/\href{https://doi.org/10.1146/annurev-statistics-031219-041252}{10.1146/annurev-statistics-031219-041252}

\leavevmode\hypertarget{ref-vanderplas2015spatial}{}%
VanderPlas, S., \& Hofmann, H. (2015). Spatial reasoning and data displays. \emph{IEEE Transactions on Visualization and Computer Graphics}, \emph{22}(1), 459--468.

\leavevmode\hypertarget{ref-vanderplas_clusters_2017}{}%
VanderPlas, S., \& Hofmann, H. (2017). Clusters {Beat} {Trend}!? {Testing} {Feature} {Hierarchy} in {Statistical} {Graphics}. \emph{Journal of Computational and Graphical Statistics}, \emph{26}(2), 231--242. http://doi.org/\href{https://doi.org/10.1080/10618600.2016.1209116}{10.1080/10618600.2016.1209116}

\leavevmode\hypertarget{ref-varshney_why_2013}{}%
Varshney, L. R., \& Sun, J. Z. (2013). Why do we perceive logarithmically? \emph{Significance}, \emph{10}(1), 28--31. http://doi.org/\href{https://doi.org/10.1111/j.1740-9713.2013.00636.x}{10.1111/j.1740-9713.2013.00636.x}

\leavevmode\hypertarget{ref-wagenaar_misperception_1975}{}%
Wagenaar, W. A., \& Sagaria, S. D. (1975). Misperception of exponential growth. \emph{Perception \& Psychophysics}, \emph{18}(6), 416--422. http://doi.org/\href{https://doi.org/10.3758/BF03204114}{10.3758/BF03204114}

\leavevmode\hypertarget{ref-wickham2011ggplot2}{}%
Wickham, Hadley. (2011). ggplot2. \emph{Wiley Interdisciplinary Reviews: Computational Statistics}, \emph{3}(2), 180--185.

\leavevmode\hypertarget{ref-wickham_graphical_2010}{}%
Wickham, H., Cook, D., Hofmann, H., \& Buja, A. (2010). Graphical inference for infovis. \emph{IEEE Transactions on Visualization and Computer Graphics}, \emph{16}(6), 973--979. http://doi.org/\href{https://doi.org/10.1109/TVCG.2010.161}{10.1109/TVCG.2010.161}

\leavevmode\hypertarget{ref-wickham2016r}{}%
Wickham, Hadley, \& Grolemund, G. (2016). \emph{R for data science: Import, tidy, transform, visualize, and model data}. " O'Reilly Media, Inc.".

\leavevmode\hypertarget{ref-wilkinson2012grammar}{}%
Wilkinson, L. (2012). The grammar of graphics. In \emph{Handbook of computational statistics} (pp. 375--414). Springer.

\end{CSLReferences}


%% backmatter is needed at the end of the main body of your thesis to
%% set up page numbering correctly for the remainder of the thesis
\backmatter

%% Start the correct formatting for the appendices
% \appendix
%% Input each appendix here
% \input{./appendix_a}

%% Bibliography goes here (You better have one)
%% BibTeX is your friend

% \bibliographystyle{alpha}  % or use  abbrv to abbreviate first names and use numerical indices
\bibliographystyle{abbrv}  % or use  abbrv to abbreviate first names and use numerical indices
%% Add your BibTex file here (don't include the .bib)
\bibliography{./references}



%% Index go here (if you have one)
\end{document}
